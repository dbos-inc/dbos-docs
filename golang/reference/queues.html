<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-golang/reference/queues" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Queues | DBOS Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.dbos.dev/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.dbos.dev/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.dbos.dev/golang/reference/queues"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Queues | DBOS Docs"><meta data-rh="true" name="description" content="Workflow queues allow you to ensure that workflow functions will be run, without starting them immediately."><meta data-rh="true" property="og:description" content="Workflow queues allow you to ensure that workflow functions will be run, without starting them immediately."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.dbos.dev/golang/reference/queues"><link data-rh="true" rel="alternate" href="https://docs.dbos.dev/golang/reference/queues" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.dbos.dev/golang/reference/queues" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://UY2VKOMIL2-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Queues","item":"https://docs.dbos.dev/golang/reference/queues"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="DBOS Docs" href="/opensearch.xml">


<link rel="preconnect" href="https://dbosdev.matomo.cloud/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://dbosdev.matomo.cloud/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>

<link rel="preconnect" href="https://d2j9bas80r5yfz.cloudfront.net">
<script>!function(t,e){var o,r,s,a;e.__SV||(window.posthog=e,e._i=[],e.init=function(n,i,p){function c(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(s=t.createElement("script")).type="text/javascript",s.async=!0,s.src=i.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(a=t.getElementsByTagName("script")[0]).parentNode.insertBefore(s,a);var g=e;for(void 0!==p?g=e[p]=[]:p="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==p&&(e+="."+p),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),r=0;r<o.length;r++)c(g,o[r]);e._i.push([n,i,p])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_vKGgPmFevFB3QVyqZdIZeNqcWAPqk3i3mDhwGqwk6nP",{api_host:"https://d2j9bas80r5yfz.cloudfront.net",id:"default"})</script>
<script async defer="defer" id="hs-script-loader" src="//js.hs-scripts.com/45237820.js"></script>
<script src="/scripts/reo.js"></script><link rel="stylesheet" href="/assets/css/styles.292b392a.css">
<script src="/assets/js/runtime~main.d01660e1.js" defer="defer"></script>
<script src="/assets/js/main.bc1922d7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://dbos.dev" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/dbos-logo.png" alt="DBOS Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/dbos-logo-dark.png" alt="DBOS Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a class="navbar__item navbar__link" href="/quickstart">Quickstart</a><a class="navbar__item navbar__link" href="/examples">Examples</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://console.dbos.dev/login-redirect" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link dbos-button-blue">DBOS Console</a><a href="https://github.com/dbos-inc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/"><span title="Home" class="linkLabel_WmDU">Home</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/quickstart"><span title="Get Started" class="linkLabel_WmDU">Get Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/why-dbos"><span title="Why DBOS?" class="linkLabel_WmDU">Why DBOS?</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/architecture"><span title="DBOS Architecture" class="linkLabel_WmDU">DBOS Architecture</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/python/programming-guide"><span title="Develop with Python" class="categoryLinkLabel_W154">Develop with Python</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/typescript/programming-guide"><span title="Develop with TypeScript" class="categoryLinkLabel_W154">Develop with TypeScript</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/golang/programming-guide"><span title="Develop with Go" class="categoryLinkLabel_W154">Develop with Go</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/golang/programming-guide"><span title="Learn DBOS Go" class="linkLabel_WmDU">Learn DBOS Go</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/golang/integrating-dbos"><span title="Add DBOS To Your App" class="linkLabel_WmDU">Add DBOS To Your App</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/golang/prompting"><span title="AI Model Prompting" class="linkLabel_WmDU">AI Model Prompting</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/golang/tutorials/workflow-tutorial"><span title="Tutorials" class="categoryLinkLabel_W154">Tutorials</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/golang/reference/dbos-context"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/golang/reference/dbos-context"><span title="DBOS Context" class="linkLabel_WmDU">DBOS Context</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/golang/reference/workflows-steps"><span title="Workflows &amp; Steps" class="linkLabel_WmDU">Workflows &amp; Steps</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/golang/reference/methods"><span title="DBOS Methods &amp; Variables" class="linkLabel_WmDU">DBOS Methods &amp; Variables</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/golang/reference/queues"><span title="Queues" class="linkLabel_WmDU">Queues</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/golang/reference/cli"><span title="DBOS CLI" class="linkLabel_WmDU">DBOS CLI</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/golang/reference/client"><span title="DBOS Client" class="linkLabel_WmDU">DBOS Client</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/golang/examples/widget-store"><span title="Example Applications" class="categoryLinkLabel_W154">Example Applications</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/java/programming-guide"><span title="Develop with Java" class="categoryLinkLabel_W154">Develop with Java</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/production/conductor"><span title="Deploy To Production" class="categoryLinkLabel_W154">Deploy To Production</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/integrations/supabase"><span title="Integrations" class="categoryLinkLabel_W154">Integrations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/explanations/system-tables"><span title="Concepts and Explanations" class="categoryLinkLabel_W154">Concepts and Explanations</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/faq"><span title="Troubleshooting &amp; FAQ" class="linkLabel_WmDU">Troubleshooting &amp; FAQ</span></a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Develop with Go</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Queues</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Queues</h1></header><p>Workflow queues allow you to ensure that workflow functions will be run, without starting them immediately.
Queues are useful for controlling the number of workflows run in parallel, or the rate at which they are started.</p>
<p>All queues should be created before DBOS is launched.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="newworkflowqueue">NewWorkflowQueue<a href="#newworkflowqueue" class="hash-link" aria-label="Direct link to NewWorkflowQueue" title="Direct link to NewWorkflowQueue" translate="no">​</a></h3>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">NewWorkflowQueue</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">dbosCtx DBOSContext</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> name </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> options </span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain">queueOption</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> WorkflowQueue</span><br></span></code></pre></div></div>
<p>NewWorkflowQueue creates a new workflow queue with the specified name and configuration options.
Queues must be created before DBOS is launched.
You can enqueue a workflow using the <a class="" href="/golang/reference/workflows-steps#withqueue"><code>WithQueue</code></a> parameter of <a class="" href="/golang/reference/workflows-steps#runworkflow"><code>RunWorkflow</code></a>.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><strong>dbosCtx</strong>: The DBOSContext.</li>
<li class=""><strong>name</strong>: The name of the queue.  Must be unique among all queues in the application.</li>
<li class=""><strong>options</strong>: Functional options for the queue, documented below.</li>
</ul>
<p><strong>Example Syntax:</strong></p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">queue </span><span class="token operator" style="color:#66d9ef">:=</span><span class="token plain"> dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">NewWorkflowQueue</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;email-queue&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">WithWorkerConcurrency</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token number" style="color:#ae81ff">5</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">WithRateLimiter</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#66d9ef">&amp;</span><span class="token plain">dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">RateLimiter</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        Limit</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain">  </span><span class="token number" style="color:#ae81ff">100</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        Period</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">60</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain"> time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Second</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token comment" style="color:#8292a2;font-style:italic">// 100 workflows per minute</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">WithPriorityEnabled</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#8292a2;font-style:italic">// Enqueue workflows to this queue:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">handle</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#66d9ef">:=</span><span class="token plain"> dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">RunWorkflow</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> SendEmailWorkflow</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> emailData</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">WithQueue</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;email-queue&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><br></span></code></pre></div></div>
<p>See <a class="" href="/golang/reference/dbos-context#listregisteredqueues">ListRegisteredQueues</a> for obtaining a list of all registered queues.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="withworkerconcurrency">WithWorkerConcurrency<a href="#withworkerconcurrency" class="hash-link" aria-label="Direct link to WithWorkerConcurrency" title="Direct link to WithWorkerConcurrency" translate="no">​</a></h4>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">WithWorkerConcurrency</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">concurrency </span><span class="token builtin" style="color:#e6db74">int</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> queueOption</span><br></span></code></pre></div></div>
<p>Set the maximum number of workflows from this queue that may run concurrently within a single DBOS process.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="withglobalconcurrency">WithGlobalConcurrency<a href="#withglobalconcurrency" class="hash-link" aria-label="Direct link to WithGlobalConcurrency" title="Direct link to WithGlobalConcurrency" translate="no">​</a></h4>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">WithGlobalConcurrency</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">concurrency </span><span class="token builtin" style="color:#e6db74">int</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> queueOption</span><br></span></code></pre></div></div>
<p>Set the maximum number of workflows from this queue that may run concurrently. Defaults to 0 (no limit).
This concurrency limit is global across all DBOS processes using this queue.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="withmaxtasksperiteration">WithMaxTasksPerIteration<a href="#withmaxtasksperiteration" class="hash-link" aria-label="Direct link to WithMaxTasksPerIteration" title="Direct link to WithMaxTasksPerIteration" translate="no">​</a></h4>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">WithMaxTasksPerIteration</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">maxTasks </span><span class="token builtin" style="color:#e6db74">int</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> queueOption</span><br></span></code></pre></div></div>
<p>Sets the maximum number of workflows that can be dequeued in a single iteration.
This controls batch sizes for queue processing.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="withpriorityenabled">WithPriorityEnabled<a href="#withpriorityenabled" class="hash-link" aria-label="Direct link to WithPriorityEnabled" title="Direct link to WithPriorityEnabled" translate="no">​</a></h4>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">WithPriorityEnabled</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> queueOption</span><br></span></code></pre></div></div>
<p>Enable setting priority for workflows on this queue.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="withratelimiter">WithRateLimiter<a href="#withratelimiter" class="hash-link" aria-label="Direct link to WithRateLimiter" title="Direct link to WithRateLimiter" translate="no">​</a></h4>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">WithRateLimiter</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">limiter </span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain">RateLimiter</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> queueOption</span><br></span></code></pre></div></div>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">type</span><span class="token plain"> RateLimiter </span><span class="token keyword" style="color:#66d9ef">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    Limit  </span><span class="token builtin" style="color:#e6db74">int</span><span class="token plain">     </span><span class="token comment" style="color:#8292a2;font-style:italic">// Maximum number of workflows to start within the period</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    Period time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Duration </span><span class="token comment" style="color:#8292a2;font-style:italic">// Time period for the rate limit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre></div></div>
<p>A limit on the maximum number of functions which may be started in a given period.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="withpartitionqueue">WithPartitionQueue<a href="#withpartitionqueue" class="hash-link" aria-label="Direct link to WithPartitionQueue" title="Direct link to WithPartitionQueue" translate="no">​</a></h4>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">WithPartitionQueue</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> queueOption</span><br></span></code></pre></div></div>
<p>Enable partitioning for this queue.
When enabled, workflows can be enqueued with a partition key using <a class="" href="/golang/reference/workflows-steps#withqueuepartitionkey"><code>WithQueuePartitionKey</code></a>, and each partition has its own concurrency limits.
This allows distributing work across dynamically created queue partitions.</p>
<p>In partitioned queues, all flow control (including concurrency and rate limits) is applied to individual partitions instead of the queue as a whole.
For example, if you create a partitioned queue with a global concurrency of 1, then at most one workflow from each partition can run concurrently (but workflows from different partitions can run in parallel).</p>
<p><strong>Example Syntax:</strong></p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#8292a2;font-style:italic">// Create a partitioned queue with a global concurrency limit of 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">partitionedQueue </span><span class="token operator" style="color:#66d9ef">:=</span><span class="token plain"> dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">NewWorkflowQueue</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;user-tasks&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">WithPartitionQueue</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">WithGlobalConcurrency</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token number" style="color:#ae81ff">1</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#8292a2;font-style:italic">// Enqueue workflows with different partition keys</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#8292a2;font-style:italic">// At most one workflow per user can run at once, but workflows from different users can run concurrently</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">handle1</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token boolean" style="color:#ae81ff">_</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">:=</span><span class="token plain"> dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">RunWorkflow</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> ProcessTask</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> task1</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">WithQueue</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;user-tasks&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">WithQueuePartitionKey</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;user-123&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">handle2</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token boolean" style="color:#ae81ff">_</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">:=</span><span class="token plain"> dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">RunWorkflow</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> ProcessTask</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> task2</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">WithQueue</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;user-tasks&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">WithQueuePartitionKey</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&quot;user-456&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="withqueuebasepollinginterval">WithQueueBasePollingInterval<a href="#withqueuebasepollinginterval" class="hash-link" aria-label="Direct link to WithQueueBasePollingInterval" title="Direct link to WithQueueBasePollingInterval" translate="no">​</a></h4>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">WithQueueBasePollingInterval</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">interval time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Duration</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> QueueOption</span><br></span></code></pre></div></div>
<p>Set the base polling interval for this queue. This also acts as the minimum (fastest) interval. Polling intervals are subject to base 2 exponential backoff.</p>
<p><strong>Example Syntax:</strong></p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">queue </span><span class="token operator" style="color:#66d9ef">:=</span><span class="token plain"> dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">NewWorkflowQueue</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;email-queue&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">WithQueueBasePollingInterval</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token number" style="color:#ae81ff">100</span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain">time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Millisecond</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="withqueuemaxpollinginterval">WithQueueMaxPollingInterval<a href="#withqueuemaxpollinginterval" class="hash-link" aria-label="Direct link to WithQueueMaxPollingInterval" title="Direct link to WithQueueMaxPollingInterval" translate="no">​</a></h4>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">WithQueueMaxPollingInterval</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">interval time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Duration</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> QueueOption</span><br></span></code></pre></div></div>
<p>Set the maximum (slowest) polling interval for this queue. Polling intervals are subject to base 2 exponential backoff.</p>
<p><strong>Example Syntax:</strong></p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">queue </span><span class="token operator" style="color:#66d9ef">:=</span><span class="token plain"> dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">NewWorkflowQueue</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;email-queue&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> dbos</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">WithQueueMaxPollingInterval</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token number" style="color:#ae81ff">10</span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain">time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Second</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="listenqueues">ListenQueues<a href="#listenqueues" class="hash-link" aria-label="Direct link to ListenQueues" title="Direct link to ListenQueues" translate="no">​</a></h3>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">ListenQueues</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx DBOSContext</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> queues </span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain">WorkflowQueue</span><span class="token punctuation" style="color:#f8f8f2">)</span><br></span></code></pre></div></div>
<p>Configure which queues the current DBOS process should listen to for workflow execution.
By default, all registered queues are listened to.
When <code>ListenQueues</code> is called, only the specified queues (and the internal DBOS queue) will be processed by the queue runner.</p>
<p>This allows multiple DBOS processes to share the same queue registry but listen to different subsets of queues.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p><code>ListenQueues</code> can only be called before <code>Launch()</code>. Calling it after launch will panic.</p></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="debouncer">Debouncer<a href="#debouncer" class="hash-link" aria-label="Direct link to Debouncer" title="Direct link to Debouncer" translate="no">​</a></h3>
<p>A debouncer delays workflow execution until a configurable delay has elapsed since the last invocation.
Each subsequent call pushes back the start time by the delay amount.
This is useful when you want to coalesce rapid successive triggers (e.g., text field edits, sensor data) into a single workflow execution.</p>
<p>See the <a class="" href="/golang/tutorials/workflow-tutorial#debouncing">debouncing tutorial</a> for usage examples.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="newdebouncer">NewDebouncer<a href="#newdebouncer" class="hash-link" aria-label="Direct link to NewDebouncer" title="Direct link to NewDebouncer" translate="no">​</a></h4>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> NewDebouncer</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain">P any</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> R any</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx DBOSContext</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> workflow Workflow</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain">P</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> R</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> opts </span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain">DebouncerOption</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain">Debouncer</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain">P</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> R</span><span class="token punctuation" style="color:#f8f8f2">]</span><br></span></code></pre></div></div>
<p>Create a new debouncer for the specified workflow.
The workflow must be registered before creating the debouncer.
Debouncers must be created before <code>Launch()</code>.
Multiple debouncers can be created for the same workflow.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><strong>ctx</strong>: The DBOSContext.</li>
<li class=""><strong>workflow</strong>: The workflow function to debounce (must be registered).</li>
<li class=""><strong>opts</strong>: Optional configuration, documented below.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="withdebouncertimeout">WithDebouncerTimeout<a href="#withdebouncertimeout" class="hash-link" aria-label="Direct link to WithDebouncerTimeout" title="Direct link to WithDebouncerTimeout" translate="no">​</a></h4>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">WithDebouncerTimeout</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">timeout time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Duration</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> DebouncerOption</span><br></span></code></pre></div></div>
<p>Set the maximum time before starting the workflow, measured from the first debounce call for a given key.
If the timeout is zero (the default), there is no maximum time limit and calling the workflow can be pushed back indefinitely.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="debouncerdebounce">Debouncer.Debounce<a href="#debouncerdebounce" class="hash-link" aria-label="Direct link to Debouncer.Debounce" title="Direct link to Debouncer.Debounce" translate="no">​</a></h4>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">func</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">d </span><span class="token operator" style="color:#66d9ef">*</span><span class="token plain">Debouncer</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain">P</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> R</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">Debounce</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx DBOSContext</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> key </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> delay time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Duration</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> input P</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> opts </span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain">WorkflowOption</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">WorkflowHandle</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain">R</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">error</span><span class="token punctuation" style="color:#f8f8f2">)</span><br></span></code></pre></div></div>
<p>Debounce a workflow invocation.
If no debouncer is active for the given key, one is started with the specified delay.
If a debouncer is already active for the key, the delay is pushed back and the input is updated.
When the delay expires <em>or</em> the debouncer preconfigured timeout is reached, the target workflow is executed with the most recent input.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><strong>ctx</strong>: The DBOSContext.</li>
<li class=""><strong>key</strong>: A unique key to group debounce calls. Calls with the same key are debounced together.</li>
<li class=""><strong>delay</strong>: Time by which to delay workflow execution from this call.</li>
<li class=""><strong>input</strong>: Input parameters to pass to the workflow.</li>
<li class=""><strong>opts</strong>: Optional workflow options (e.g., <code>WithWorkflowID</code>).</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li class="">A <a class="" href="/golang/reference/workflows-steps#workflowhandle">WorkflowHandle</a> for the target workflow.</li>
</ul>
<p>You can also create a debouncer from outside a DBOS application using the <a class="" href="/golang/reference/client#newdebouncerclient">DBOS Client</a>.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/golang/reference/methods"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">DBOS Methods &amp; Variables</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/golang/reference/cli"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">DBOS CLI</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#newworkflowqueue" class="table-of-contents__link toc-highlight">NewWorkflowQueue</a><ul><li><a href="#withworkerconcurrency" class="table-of-contents__link toc-highlight">WithWorkerConcurrency</a></li><li><a href="#withglobalconcurrency" class="table-of-contents__link toc-highlight">WithGlobalConcurrency</a></li><li><a href="#withmaxtasksperiteration" class="table-of-contents__link toc-highlight">WithMaxTasksPerIteration</a></li><li><a href="#withpriorityenabled" class="table-of-contents__link toc-highlight">WithPriorityEnabled</a></li><li><a href="#withratelimiter" class="table-of-contents__link toc-highlight">WithRateLimiter</a></li><li><a href="#withpartitionqueue" class="table-of-contents__link toc-highlight">WithPartitionQueue</a></li><li><a href="#withqueuebasepollinginterval" class="table-of-contents__link toc-highlight">WithQueueBasePollingInterval</a></li><li><a href="#withqueuemaxpollinginterval" class="table-of-contents__link toc-highlight">WithQueueMaxPollingInterval</a></li></ul></li><li><a href="#listenqueues" class="table-of-contents__link toc-highlight">ListenQueues</a></li><li><a href="#debouncer" class="table-of-contents__link toc-highlight">Debouncer</a><ul><li><a href="#newdebouncer" class="table-of-contents__link toc-highlight">NewDebouncer</a></li><li><a href="#withdebouncertimeout" class="table-of-contents__link toc-highlight">WithDebouncerTimeout</a></li><li><a href="#debouncerdebounce" class="table-of-contents__link toc-highlight">Debouncer.Debounce</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Follow Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/dbos-inc/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bsky.app/profile/dbos.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bluesky<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/DBOS_Inc" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter/X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.dbos.dev/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.dbos.dev/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Questions or Comments?</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/fMwQjeW5zg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chat with us on Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:contact@dbos.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Write to us at contact@dbos.dev<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://dbos.dev" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/dbos-logo.png" alt="DBOS Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="100"><img src="/img/dbos-logo-dark.png" alt="DBOS Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="100"></a></div><div class="footer__copyright">Copyright © 2026 DBOS, Inc. | <a href="https://www.dbos.dev/privacy" target="_blank">Privacy Policy</a></div></div></div></footer></div>
</body>
</html>
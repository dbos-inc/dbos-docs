"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[9082],{677:(e,o,s)=>{s.r(o),s.d(o,{assets:()=>r,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"integrations/supabase","title":"Supabase","description":"To learn more about how DBOS and Supabase are working together, check out this blog post!","source":"@site/docs/integrations/supabase.md","sourceDirName":"integrations","slug":"/integrations/supabase","permalink":"/integrations/supabase","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10,"title":"Supabase","hide_table_of_contents":true},"sidebar":"tutorialSidebar","previous":{"title":"Cloud CLI Reference","permalink":"/production/dbos-cloud/cloud-cli"},"next":{"title":"Neon","permalink":"/integrations/neon"}}');var t=s(4848),n=s(8453);s(2275);const i={sidebar_position:10,title:"Supabase",hide_table_of_contents:!0},c="Use DBOS With Supabase",r={},l=[{value:"1. Set up a Local Application",id:"1-set-up-a-local-application",level:3},{value:"2. Connect to Your Supabase Database",id:"2-connect-to-your-supabase-database",level:3},{value:"3. Launch Your Application",id:"3-launch-your-application",level:3},{value:"1. Connect to Supabase",id:"1-connect-to-supabase",level:3},{value:"2. Select a Template",id:"2-select-a-template",level:3},{value:"3. Connect to GitHub",id:"3-connect-to-github",level:3},{value:"4. Deploy to DBOS Cloud",id:"4-deploy-to-dbos-cloud",level:3}];function p(e){const o={a:"a",admonition:"admonition",code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components},{LargeTabItem:a,LargeTabs:i}=o;return a||d("LargeTabItem",!0),i||d("LargeTabs",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"use-dbos-with-supabase",children:"Use DBOS With Supabase"})}),"\n",(0,t.jsx)(o.admonition,{type:"info",children:(0,t.jsxs)(o.p,{children:["To learn more about how DBOS and Supabase are working together, check out ",(0,t.jsx)(o.a,{href:"https://supabase.com/blog/durable-workflows-in-postgres-dbos",children:"this blog post"}),"!"]})}),"\n",(0,t.jsxs)(i,{groupId:"env",children:[(0,t.jsxs)(a,{value:"self-host",label:"Develop Locally",children:[(0,t.jsx)(o.p,{children:"Here's how to connect your DBOS application running on your computer or cloud environment to your Supabase."}),(0,t.jsx)(o.h3,{id:"1-set-up-a-local-application",children:"1. Set up a Local Application"}),(0,t.jsxs)(o.p,{children:["If you haven't already, follow the ",(0,t.jsx)(o.a,{href:"/quickstart",children:"quickstart"})," to set up a DBOS application locally.\nThe rest of this guide will assume you have a local application."]}),(0,t.jsx)(o.h3,{id:"2-connect-to-your-supabase-database",children:"2. Connect to Your Supabase Database"}),(0,t.jsxs)(o.p,{children:["Next, open your Supabase dashboard at ",(0,t.jsx)(o.a,{href:"https://supabase.com/dashboard",children:(0,t.jsx)(o.code,{children:"supabase.com/dashboard"})}),', select a project, and click "Connect" to retrieve connection information for your Supabase database.\nYou should see a screen that looks like this, showing the connection string for your database:']}),(0,t.jsx)(o.admonition,{type:"tip",children:(0,t.jsx)(o.p,{children:'Make sure your connection method is set to "Direct connection" (if your database supports it) or to "Session pooler".'})}),(0,t.jsx)("img",{src:s(2122).A,alt:"Cloud Console Templates",width:"800",className:"custom-img"}),(0,t.jsxs)(o.p,{children:["When you are ready, copy the connection string (filling in your Supabase password) from the dashboard and set the ",(0,t.jsx)(o.code,{children:"DBOS_SYSTEM_DATABASE_URL"})," environment variable to it:"]}),(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{children:'export DBOS_SYSTEM_DATABASE_URL="<your connection string>"\n'})}),(0,t.jsx)(o.h3,{id:"3-launch-your-application",children:"3. Launch Your Application"}),(0,t.jsx)(o.p,{children:"Now, launch your DBOS application.\nIt should successfully connect to your Supabase database, printing your masked Supabase database URL on startup."}),(0,t.jsx)(o.p,{children:'After connecting your DBOS application to Supabase, you can use the Supabase console to view your DBOS system tables.\nOpen the "Table Editor" tab in the Supabase console.\nFor your schema, select "dbos".\nYou can now see DBOS durably checkpoint your workflows to your Supabase database:'}),(0,t.jsx)("img",{src:s(5337).A,alt:"Supabase Table Editor",width:"800",className:"custom-img"})]}),(0,t.jsxs)(a,{value:"dbos-cloud",label:"DBOS Cloud",children:[(0,t.jsx)(o.p,{children:"Here's how to connect your DBOS application running on DBOS Cloud to your Supabase."}),(0,t.jsx)(o.h3,{id:"1-connect-to-supabase",children:"1. Connect to Supabase"}),(0,t.jsxs)(o.p,{children:["Visit ",(0,t.jsx)(o.a,{href:"https://console.dbos.dev/provision",children:"https://console.dbos.dev/provision"}),' and click "Connect Supabase" to connect your DBOS and Supabase accounts.']}),(0,t.jsx)("img",{src:s(6740).A,alt:"Cloud Console Templates",width:"800",className:"custom-img"}),(0,t.jsx)(o.p,{children:"After connecting your Supabase account, you should see a list of your Supabase projects.\nChoose one to use with DBOS.\nWhen prompted, enter your Supabase database password (you set this when you created your Supabase project, if you forgot it you can reset it from your Supabase dashboard)."}),(0,t.jsx)("img",{src:s(2274).A,alt:"Cloud Console Templates",width:"800",className:"custom-img"}),(0,t.jsx)(o.p,{children:"Congratulations! You've linked your Supabase project to DBOS. Now, let's deploy a DBOS app to your Supabase database."}),(0,t.jsx)(o.h3,{id:"2-select-a-template",children:"2. Select a Template"}),(0,t.jsxs)(o.p,{children:["Visit ",(0,t.jsx)(o.a,{href:"https://console.dbos.dev/launch",children:"https://console.dbos.dev/launch"}),". At the top of the page, make sure your Supabase database instance is selected."]}),(0,t.jsx)("img",{src:s(299).A,alt:"Cloud Console Templates",width:"800",className:"custom-img"}),(0,t.jsx)(o.p,{children:"Then, choose a template you'd like to deploy."}),(0,t.jsx)(o.p,{children:"Not sure which template to use? We recommend the DBOS Web App Starter."}),(0,t.jsx)("img",{src:s(5526).A,alt:"Cloud Console Templates",width:"800",className:"custom-img"}),(0,t.jsx)(o.h3,{id:"3-connect-to-github",children:"3. Connect to GitHub"}),(0,t.jsx)(o.p,{children:"To ensure you can easily update your project after deploying it, DBOS will create a GitHub repository for it.\nYou can deploy directly from that GitHub repository to DBOS Cloud."}),(0,t.jsx)(o.p,{children:"First, sign in to your GitHub account.\nThen, set your repository name and whether it should be public or private."}),(0,t.jsx)("img",{src:s(9825).A,alt:"Deploy with GitHub",width:"800",className:"custom-img"}),(0,t.jsx)(o.h3,{id:"4-deploy-to-dbos-cloud",children:"4. Deploy to DBOS Cloud"}),(0,t.jsx)(o.p,{children:'Click "Create GitHub Repo and Deploy" and DBOS will clone a copy of the source code into your GitHub account, then deploy your project to DBOS Cloud.\nIn less than a minute, your app should deploy successfully.'}),(0,t.jsx)(o.p,{children:"Congratulations, you've successfully deployed an app to DBOS Cloud and Supabase!\nClick the URL on your application page to see your application live on the Internet."}),(0,t.jsx)("img",{src:s(1345).A,alt:"Application page",width:"800",className:"custom-img"}),(0,t.jsxs)(o.p,{children:["To start building, edit your application on GitHub (for the web app starter, source code is in ",(0,t.jsx)(o.code,{children:"app/main.py"}),'), commit your changes, then press "Deploy From GitHub" to see your changes reflected in the live application.']}),(0,t.jsxs)(o.admonition,{type:"info",children:[(0,t.jsx)(o.p,{children:"For isolation, DBOS deploys applications to non-default databases on your Supabase Postgres server.\nAs a result, they aren't visible in the Supabase web UI.\nYou can see the DBOS tables by running SQL queries in the Supabase web console:"}),(0,t.jsx)("img",{src:s(2023).A,alt:"Application page",width:"800",className:"custom-img"})]})]})]})]})}function u(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}function d(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},2275:(e,o,s)=>{s.d(o,{Ay:()=>c,RM:()=>n});var a=s(4848),t=s(8453);const n=[];function i(e){const o={a:"a",code:"code",p:"p",pre:"pre",...(0,t.R)(),...e.components},{TabItem:s,Tabs:n}=o;return s||r("TabItem",!0),n||r("Tabs",!0),(0,a.jsxs)(n,{groupId:"operating-systems",className:"small-tabs",children:[(0,a.jsxs)(s,{value:"maclinux",label:"macOS or Linux",children:[(0,a.jsx)(o.p,{children:"Run the following commands in your terminal:"}),(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-bash",children:'curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash\n\nexport NVM_DIR="$HOME/.nvm"\n[ -s "$NVM_DIR/nvm.sh" ] && \\. "$NVM_DIR/nvm.sh"  # This loads nvm\n\nnvm install 22\nnvm use 22\n'})})]}),(0,a.jsx)(s,{value:"win-ps",label:"Windows",children:(0,a.jsxs)(o.p,{children:["Download Node.js 20 or later from the ",(0,a.jsx)(o.a,{href:"https://nodejs.org/en/download",children:"official Node.js download page"})," and install it.\nAfter installing Node.js, create the following folder: ",(0,a.jsx)(o.code,{children:"C:\\Users\\%user%\\AppData\\Roaming\\npm"}),"\n(",(0,a.jsx)(o.code,{children:"%user%"})," is the Windows user on which you are logged in)."]})})]})}function c(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,a.jsx)(o,{...e,children:(0,a.jsx)(i,{...e})}):i(e)}function r(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},5526:(e,o,s)=>{s.d(o,{A:()=>a});const a=s.p+"assets/images/1-pick-template-f766de9bc95aa1086025e7b0c2f726c2.png"},9825:(e,o,s)=>{s.d(o,{A:()=>a});const a=s.p+"assets/images/3-deploy-github-41e1e66af4baac767d67ab6f316a5f8f.png"},1345:(e,o,s)=>{s.d(o,{A:()=>a});const a=s.p+"assets/images/5-app-page-7fdd8e1ce2b44794862b520a0f654b51.png"},6740:(e,o,s)=>{s.d(o,{A:()=>a});const a=s.p+"assets/images/1-supabase-list-7442239f16f10032a7ac5a2631e2242f.png"},2274:(e,o,s)=>{s.d(o,{A:()=>a});const a=s.p+"assets/images/2-supabase-starter-eaccd01f1dbe541657843c1994f6999e.png"},299:(e,o,s)=>{s.d(o,{A:()=>a});const a=s.p+"assets/images/3-choose-supabase-35b1570a660b99cb8f6ad6933e3c613e.png"},2023:(e,o,s)=>{s.d(o,{A:()=>a});const a=s.p+"assets/images/databases-cfdf7e082f23cac82bf6a412d4786dca.png"},2122:(e,o,s)=>{s.d(o,{A:()=>a});const a=s.p+"assets/images/supabase-connect-901ffe025029578029b0e522f42c02a0.png"},5337:(e,o,s)=>{s.d(o,{A:()=>a});const a=s.p+"assets/images/supabase-tables-4f184611a87ee33a8ca623947dd07105.png"},8453:(e,o,s)=>{s.d(o,{R:()=>i,x:()=>c});var a=s(6540);const t={},n=a.createContext(t);function i(e){const o=a.useContext(n);return a.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(n.Provider,{value:o},e.children)}}}]);
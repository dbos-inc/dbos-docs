"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[4957],{6585:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var o=t(5893),a=t(1151);const i={sidebar_position:3,title:"Cloud Account Management",description:"Learn how to manage DBOS Cloud users"},r=void 0,s={id:"cloud-tutorials/account-management",title:"Cloud Account Management",description:"Learn how to manage DBOS Cloud users",source:"@site/docs/cloud-tutorials/account-management.md",sourceDirName:"cloud-tutorials",slug:"/cloud-tutorials/account-management",permalink:"/cloud-tutorials/account-management",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Cloud Account Management",description:"Learn how to manage DBOS Cloud users"},sidebar:"tutorialSidebar",previous:{title:"Cloud Application Management",permalink:"/cloud-tutorials/application-management"},next:{title:"Time Travel Debugging",permalink:"/cloud-tutorials/timetravel-debugging"}},c={},l=[{value:"Authenticating Programatically",id:"authenticating-programatically",level:3},{value:"Organization Management",id:"organization-management",level:3}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.p,{children:"In this guide, you'll learn how to manage DBOS Cloud accounts."}),"\n",(0,o.jsx)(e.h3,{id:"authenticating-programatically",children:"Authenticating Programatically"}),"\n",(0,o.jsx)(e.p,{children:"Sometimes, such as in a CI/CD pipeline, it is useful to authenticate programatically without providing credentials through a browser-based login portal.\nDBOS Cloud provides this capability with refresh tokens.\nTo obtain a refresh token, run:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"npx dbos-cloud login --get-refresh-token\n"})}),"\n",(0,o.jsxs)(e.p,{children:["This command has you authenticate through the browser, but obtains a refresh token and stores it in ",(0,o.jsx)(e.code,{children:".dbos/credentials"}),"."]}),"\n",(0,o.jsx)(e.p,{children:"Once you have your token, you can use it to authenticate programatically without going through the browser with the following command:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"npx dbos-cloud login --with-refresh-token <token>\n"})}),"\n",(0,o.jsx)(e.p,{children:"Refresh tokens automatically expire after a year or after a month of inactivity.\nYou can manually revoke them at any time:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"npx dbos-cloud revoke <token>\n"})}),"\n",(0,o.jsx)(e.admonition,{type:"warning",children:(0,o.jsx)(e.p,{children:"Until they expire or are revoked, refresh tokens can be used to log in to your account.\nTreat them as secrets and keep them safe!"})}),"\n",(0,o.jsx)(e.h3,{id:"organization-management",children:"Organization Management"}),"\n",(0,o.jsx)(e.admonition,{type:"info",children:(0,o.jsxs)(e.p,{children:["This feature is currently only available to ",(0,o.jsx)(e.a,{href:"https://www.dbos.dev/pricing",children:"DBOS Pro or Enterprise"})," subscribers."]})}),"\n",(0,o.jsx)(e.p,{children:"Organizations allow multiple users to collaboratively manage applications.\nWhen a user creates an account, they are automatically added to an organization containing only them, where the organization name is the same as their username."}),"\n",(0,o.jsx)(e.p,{children:"To invite a new user to your organization, run:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"npx dbos-cloud org invite\n"})}),"\n",(0,o.jsxs)(e.p,{children:["This command retrieves a ",(0,o.jsx)(e.strong,{children:"single-use"})," organization secret that expires in 24 hours. To invite multiple users, create multiple secrets."]}),"\n",(0,o.jsx)(e.p,{children:"Using this organization secret, another user can register a new account in your organization by running:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"npx dbos-cloud register -u <username> -s <organization-secret>\n"})}),"\n",(0,o.jsx)(e.p,{children:"Alternatively, if a user has an existing account, they can join your organization by running:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"npx dbos-cloud org join <organization-name> <organization-secret>\n"})}),"\n",(0,o.jsx)(e.p,{children:"All users in an organization have full access to its resources, including databases and applications."}),"\n",(0,o.jsx)(e.p,{children:"An organization admin (the user who created the organization) can rename the organization by running:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"npx dbos-cloud org rename <current-org-name> <new-org-name>\n"})}),"\n",(0,o.jsxs)(e.p,{children:["Applications belonging to organizations are hosted at the URL ",(0,o.jsx)(e.code,{children:"https://<organization-name>-<app-name>.cloud.dbos.dev/"}),", so renaming your organization changes your application URLs."]})]})}function u(n={}){const{wrapper:e}={...(0,a.a)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},1151:(n,e,t)=>{t.d(e,{Z:()=>s,a:()=>r});var o=t(7294);const a={},i=o.createContext(a);function r(n){const e=o.useContext(i);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),o.createElement(i.Provider,{value:e},n.children)}}}]);
"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[4957],{6968:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var o=t(5893),a=t(1151);const i={sidebar_position:0,title:"Cloud Account Management",description:"Learn how to manage DBOS Cloud users"},r=void 0,s={id:"cloud-tutorials/account-management",title:"Cloud Account Management",description:"Learn how to manage DBOS Cloud users",source:"@site/docs/cloud-tutorials/account-management.md",sourceDirName:"cloud-tutorials",slug:"/cloud-tutorials/account-management",permalink:"/cloud-tutorials/account-management",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{sidebar_position:0,title:"Cloud Account Management",description:"Learn how to manage DBOS Cloud users"},sidebar:"tutorialSidebar",previous:{title:"DBOS Cloud Tutorials",permalink:"/category/dbos-cloud-tutorials"},next:{title:"Cloud Database Management",permalink:"/cloud-tutorials/database-management"}},c={},l=[{value:"Registering a User",id:"registering-a-user",level:3},{value:"Authenticating from the Command Line",id:"authenticating-from-the-command-line",level:3},{value:"Authenticating Programatically",id:"authenticating-programatically",level:3},{value:"Organization Management",id:"organization-management",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"In this guide, you'll learn how to register and authenticate DBOS Cloud accounts."}),"\n",(0,o.jsx)(n.h3,{id:"registering-a-user",children:"Registering a User"}),"\n",(0,o.jsx)(n.p,{children:"To register a new DBOS Cloud account, run the following command, choosing a username that is 3-30 characters long and contains only lowercase letters, numbers, and underscores:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"npx dbos-cloud register -u <username>\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This command provides a URL to a secure login portal you can use to create an account from your browser.\nAfter registering, your credentials will be stored in ",(0,o.jsx)(n.code,{children:".dbos/credentials"}),".\nCredentials automatically expire after 24 hours, at which point you must log in again."]}),"\n",(0,o.jsx)(n.h3,{id:"authenticating-from-the-command-line",children:"Authenticating from the Command Line"}),"\n",(0,o.jsx)(n.p,{children:"To log in from the command line, run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"npx dbos-cloud login\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This command provides a URL to a secure login portal from which you can log in.\nAfter you log in, your credentials will be stored in ",(0,o.jsx)(n.code,{children:".dbos/credentials"}),".\nThey automatically expire after 24 hours.\nTo delete your credentials and log out, run:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"npx dbos-cloud logout\n"})}),"\n",(0,o.jsx)(n.h3,{id:"authenticating-programatically",children:"Authenticating Programatically"}),"\n",(0,o.jsx)(n.p,{children:"Sometimes, such as in a CI/CD pipeline, it is useful to authenticate programatically without providing credentials through a browser-based login portal.\nDBOS Cloud provides this capability with refresh tokens.\nTo obtain a refresh token, run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"npx dbos-cloud login --get-refresh-token\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This command has you authenticate through the browser, but obtains a refresh token and stores it in ",(0,o.jsx)(n.code,{children:".dbos/credentials"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Once you have your token, you can use it to authenticate programatically without going through the browser with the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"npx dbos-cloud login --with-refresh-token <token>\n"})}),"\n",(0,o.jsx)(n.p,{children:"Refresh tokens automatically expire after a year or after a month of inactivity.\nYou can manually revoke them at any time:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"npx dbos-cloud revoke <token>\n"})}),"\n",(0,o.jsx)(n.admonition,{type:"warning",children:(0,o.jsx)(n.p,{children:"Until they expire or are revoked, refresh tokens can be used to log in to your account.\nTreat them as secrets and keep them safe!"})}),"\n",(0,o.jsx)(n.h3,{id:"organization-management",children:"Organization Management"}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["This feature is currently only available to ",(0,o.jsx)(n.a,{href:"https://www.dbos.dev/pricing",children:"DBOS Pro or Enterprise"})," subscribers."]})}),"\n",(0,o.jsx)(n.p,{children:"Organizations allow multiple users to collaboratively manage applications.\nWhen a user creates an account, they are automatically added to an organization containing only them, where the organization name is the same as their username."}),"\n",(0,o.jsx)(n.p,{children:"To invite a new user to your organization, run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"npx dbos-cloud org invite\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This command retrieves a ",(0,o.jsx)(n.strong,{children:"single-use"})," organization secret that expires in 24 hours. To invite multiple users, create multiple secrets."]}),"\n",(0,o.jsx)(n.p,{children:"Using this organization secret, another user can register a new account in your organization by running:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"npx dbos-cloud register -u <username> -s <organization-secret>\n"})}),"\n",(0,o.jsx)(n.p,{children:"Alternatively, if a user has an existing account, they can join your organization by running:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"npx dbos-cloud org join <organization-name> <organization-secret>\n"})}),"\n",(0,o.jsx)(n.p,{children:"All users in an organization have full access to its resources, including databases and applications."}),"\n",(0,o.jsx)(n.p,{children:"An organization admin (the user who created the organization) can rename the organization by running:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"npx dbos-cloud org rename <current-org-name> <new-org-name>\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Applications belonging to organizations are hosted at the URL ",(0,o.jsx)(n.code,{children:"https://<organization-name>-<app-name>.cloud.dbos.dev/"}),", so renaming your organization changes your application URLs."]})]})}function u(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>r});var o=t(7294);const a={},i=o.createContext(a);function r(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[6743],{9222:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var t=o(5893),i=o(1151);const r={sidebar_position:7,title:"Logging",description:"Learn to use logging in DBOS"},a=void 0,l={id:"tutorials/logging",title:"Logging",description:"Learn to use logging in DBOS",source:"@site/docs/tutorials/logging.md",sourceDirName:"tutorials",slug:"/tutorials/logging",permalink:"/tutorials/logging",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,title:"Logging",description:"Learn to use logging in DBOS"},sidebar:"tutorialSidebar",previous:{title:"Workflow Communication",permalink:"/tutorials/workflow-communication-tutorial"},next:{title:"Testing and Debugging",permalink:"/tutorials/testing-tutorial"}},s={},c=[{value:"Usage",id:"usage",level:3},{value:"Viewing Logs in DBOS Cloud",id:"viewing-logs-in-dbos-cloud",level:3},{value:"Configuration",id:"configuration",level:3}];function g(e){const n={a:"a",code:"code",h3:"h3",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["In this section we will learn to use DBOS's built-in logging system.\nThe DBOS runtime comes with a global logger you can access through any operation's ",(0,t.jsx)(n.a,{href:"/api-reference/contexts",children:"context"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"@GetApi('/greeting/:name')\nstatic async greetingEndpoint(ctx: HandlerContext, @ArgSource(ArgSources.URL) name: string) {\n    ctx.logger.info(\"Logging from the greeting handler\");\n    return `Greeting, ${name}`;\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The logger provides four logging levels: ",(0,t.jsx)(n.code,{children:"info()"}),", ",(0,t.jsx)(n.code,{children:"debug()"}),", ",(0,t.jsx)(n.code,{children:"warn()"})," and ",(0,t.jsx)(n.code,{children:"error()"}),".\nEach accepts and logs any output that can be serialized to JSON.\n",(0,t.jsx)(n.code,{children:"error()"})," additionally logs a stack trace."]}),"\n",(0,t.jsx)(n.h3,{id:"viewing-logs-in-dbos-cloud",children:"Viewing Logs in DBOS Cloud"}),"\n",(0,t.jsxs)(n.p,{children:["You can view your applications' logs in DBOS Cloud through our ",(0,t.jsx)(n.a,{href:"/cloud-tutorials/monitoring-dashboard",children:"monitoring dashboard"}),". It allows you to filter for particular applications or time ranges."]}),"\n",(0,t.jsxs)(n.p,{children:["You can also retrieve logs through the ",(0,t.jsx)(n.a,{href:"/api-reference/cloud-cli#npx-dbos-cloud-application-logs",children:(0,t.jsx)(n.code,{children:"application logs"})})," command.\nIn your package root directory, run:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"npx dbos-cloud application logs\n"})}),"\n",(0,t.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.a,{href:"../api-reference/configuration",children:"configuration file"}),", you can configure the logging level, silence the logger, and request to add context metadata to log entries:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"...\ntelemetry:\n  logs:\n    logLevel: 'info' # info (default) | debug | warn | emerg | alert | crit | error\n    addContextMetadata: 'true' #\xa0true (default) | false\n    silent: 'false' # false (default) | true\n"})}),"\n",(0,t.jsx)(n.p,{children:"Context metadata includes the workflow identity UUID and the name of the user running the workflow."}),"\n",(0,t.jsx)(n.p,{children:"You can also configure the logging level as a CLI argument to the runtime:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"npx dbos-sdk start --loglevel debug\n"})})]})}function d(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},1151:(e,n,o)=>{o.d(n,{Z:()=>l,a:()=>a});var t=o(7294);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[3473],{9959:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"why-dbos","title":"Why DBOS?","description":"If you\'re building AI agents, also check out Why DBOS for Agents.","source":"@site/docs/why-dbos.md","sourceDirName":".","slug":"/why-dbos","permalink":"/why-dbos","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"hide_table_of_contents":false,"hide_title":false,"title":"Why DBOS?"},"sidebar":"tutorialSidebar","previous":{"title":"Get Started","permalink":"/quickstart"},"next":{"title":"DBOS Architecture","permalink":"/architecture"}}');var t=r(4848),n=r(8453);const a={hide_table_of_contents:!1,hide_title:!1,title:"Why DBOS?"},i=void 0,l={},c=[{value:"What is DBOS?",id:"what-is-dbos",level:3},{value:"How Does DBOS Work?",id:"how-does-dbos-work",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"DBOS vs. Other Systems",id:"dbos-vs-other-systems",level:2},{value:"DBOS vs. Temporal",id:"dbos-vs-temporal",level:3},{value:"DBOS vs. Airflow",id:"dbos-vs-airflow",level:3},{value:"DBOS vs. Celery/BullMQ",id:"dbos-vs-celerybullmq",level:3}];function d(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components},{TabItem:o,Tabs:a}=s;return o||u("TabItem",!0),a||u("Tabs",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.admonition,{type:"info",children:(0,t.jsxs)(s.p,{children:["If you're building AI agents, also check out ",(0,t.jsx)(s.a,{href:"/explanations/why-dbos-agents",children:"Why DBOS for Agents"}),"."]})}),"\n",(0,t.jsx)(s.h3,{id:"what-is-dbos",children:"What is DBOS?"}),"\n",(0,t.jsx)(s.p,{children:"DBOS provides lightweight durable workflows built on top of Postgres.\nEssentially, it helps you write long-lived, reliable code that can survive failures, crashes, and restarts without losing state or duplicating work."}),"\n",(0,t.jsx)(s.p,{children:"In practice, DBOS makes it easier to build reliable systems for use cases like AI agents, data pipelines, payments, or anything that takes minutes, days, or weeks to complete.\nRather than bolting on ad-hoc retry logic and database checkpoints, DBOS workflows give you one consistent model for ensuring your programs can recover from any failure from exactly where they left off."}),"\n",(0,t.jsxs)(s.p,{children:["To get started, follow the ",(0,t.jsx)(s.a,{href:"/quickstart",children:"quickstart"})," to install the open-source library and connect it to a Postgres database.\nThen, annotate workflows and steps in your program to make it durable!\nThat's all you need to do\u2014DBOS is entirely contained in the open-source library, there's no additional infrastructure for you to configure or manage."]}),"\n",(0,t.jsx)(s.h2,{id:"how-does-dbos-work",children:"How Does DBOS Work?"}),"\n",(0,t.jsxs)(s.p,{children:["DBOS workflows make your program ",(0,t.jsx)(s.strong,{children:"durable"})," by checkpointing its state in Postgres.\nIf your program ever fails, when it restarts all your workflows will automatically resume from the last completed step."]}),"\n",(0,t.jsx)(s.p,{children:"For example, let's say you're running an e-commerce platform where an order goes through multiple steps:"}),"\n",(0,t.jsx)("img",{src:r(5374).A,alt:"Durable Workflow",width:"750",className:"custom-img"}),"\n",(0,t.jsxs)(s.p,{children:["This program looks simple, but making it ",(0,t.jsx)(s.em,{children:"reliable"})," is deceptively difficult.\nFor example, the program may crash (or its server may be restarted) after validating payment but before shipping an order.\nAlternatively, the shipping service may experience an outage, leaving the shipping step impossible to complete.\nIn either case, the customer has been charged, but their order is never shipped."]}),"\n",(0,t.jsxs)(s.p,{children:["DBOS makes these failures easier to recover from.\nAll you have to do is annotate your program with decorators like ",(0,t.jsx)(s.code,{children:"@DBOS.workflow()"})," and ",(0,t.jsx)(s.code,{children:"@DBOS.step()"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"@DBOS.step()\ndef validate_payment():\n    ...\n\n@DBOS.workflow()\ndef checkout_workflow()\n    validate_payment()\n    check_inventory()\n    ship_order()\n    notify_customer()\n"})}),"\n",(0,t.jsxs)(s.p,{children:["These decorators ",(0,t.jsx)(s.strong,{children:"durably execute"})," your program, persisting its state to a Postgres database:"]}),"\n",(0,t.jsx)("img",{src:r(764).A,alt:"Durable Workflow",width:"750",className:"custom-img"}),"\n",(0,t.jsxs)(s.p,{children:["You can think of this stored state as a checkpoint for your program.\nIf your program is ever interrupted or crashes, DBOS uses this saved state to recover it from the last completed step.\nFor example, if your checkout workflow crashes right after validating payment, instead of the order being lost forever, DBOS recovers from a checkpoint and goes on to ship the order.\nThus, DBOS makes your application ",(0,t.jsx)(s.strong,{children:"resilient to any failure"}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,t.jsx)(s.p,{children:"DBOS helps you write complex distributed programs in remarkably few lines of code. For example:"}),"\n",(0,t.jsxs)(a,{groupId:"examples",className:"medium-tabs",children:[(0,t.jsx)(o,{value:"agents",label:"AI Agents",children:(0,t.jsxs)("section",{className:"row list",children:[(0,t.jsxs)("article",{className:"col col--5",children:[(0,t.jsx)(s.p,{children:"Use durable workflows to build fault-tolerant and observable AI agents:"}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"If a failure occurs after many iterations of a multi-turn agent, workflows help you recover from the last completed step instead of restarting from the beginning."}),"\n",(0,t.jsxs)(s.li,{children:["Pinpoint the root cause of failures from the ",(0,t.jsx)(s.a,{href:"/python/tutorials/workflow-management",children:"workflow dashboard"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Simplify evals by using ",(0,t.jsx)(s.a,{href:"/python/tutorials/workflow-management#forking-workflows",children:"fork"})," to restart an agent from a specific step or tool call."]}),"\n",(0,t.jsxs)(s.li,{children:["Seamlessly add ",(0,t.jsx)(s.a,{href:"/python/examples/agent-inbox",children:"human-in-the-loop"})," to your agent."]}),"\n",(0,t.jsxs)(s.li,{children:["Natively integrate with popular frameworks like ",(0,t.jsx)(s.a,{href:"https://ai.pydantic.dev/durable_execution/dbos/",children:"Pydantic AI"}),"."]}),"\n"]}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/explanations/why-dbos-agents",children:"Learn More\u2197\ufe0f"})})]}),(0,t.jsx)("article",{className:"col col--7",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"@DBOS.workflow()\ndef agentic_research_workflow(topic, max_iterations):\n  research_results = []\n  for i in range(max_iterations):\n    research_result = research_query(topic)\n    research_results.append(research_result)\n    if not should_continue(research_results):\n      break\n    topic = generate_next_topic(topic, research_results)\n  return synthesize_research_report(research_results)\n\n@DBOS.step()\ndef research_query(topic):\n  ...\n"})})})]})}),(0,t.jsx)(o,{value:"pipelines",label:"Data Pipelines",children:(0,t.jsxs)("section",{className:"row list",children:[(0,t.jsxs)("article",{className:"col col--5",children:[(0,t.jsx)(s.p,{children:"Use durable workflows and queues to build fault-tolerant and observable data pipelines:"}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"/python/tutorials/queue-tutorial",children:"Queues"})," simplify orchestrating tens of thousands of concurrent tasks."]}),"\n",(0,t.jsx)(s.li,{children:"If a failure occurs during a multi-hour pipeline, workflows help you recover from the last completed step instead of restarting from the beginning."}),"\n",(0,t.jsx)(s.li,{children:"Queue flow control helps you manage the resource consumption of your pipelines by controlling how many tasks can run concurrently or how often tasks can start."}),"\n"]}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/python/examples/document-detective",children:"See an example \u2197\ufe0f"})})]}),(0,t.jsx)("article",{className:"col col--7",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:'queue = Queue("indexing_queue")\n\n@DBOS.workflow()\ndef indexing_workflow(urls):\n    handles = []\n    for url in urls:\n        handles.append(queue.enqueue(index_step, url))\n    return [h.get_result() for h in handles]\n'})})})]})}),(0,t.jsx)(o,{value:"background",label:"Background Tasks",children:(0,t.jsxs)("section",{className:"row list",children:[(0,t.jsxs)("article",{className:"col col--5",children:[(0,t.jsx)(s.p,{children:"Launch durable background tasks using workflows and queues."}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Workflows guarantee background tasks eventually complete, despite restarts and failures."}),"\n",(0,t.jsx)(s.li,{children:"Durable sleep and notifications let your tasks wait for days or weeks, or for a notification, before continuing."}),"\n",(0,t.jsx)(s.li,{children:"Durably run background tasks directly on your API servers, or use the DBOS client to enqueue tasks from anywhere for execution on dedicated workers or serverless functions."}),"\n"]}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/python/examples/queue-worker",children:"See an example \u2197\ufe0f"})})]}),(0,t.jsx)("article",{className:"col col--7",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"@DBOS.workflow()\ndef schedule_task(task, time_to_wait):\n    DBOS.sleep(time_to_wait)\n    run_task(task)\n"})})})]})}),(0,t.jsx)(o,{value:"workflow",label:"Business Workflows",children:(0,t.jsxs)("section",{className:"row list",children:[(0,t.jsxs)("article",{className:"col col--5",children:[(0,t.jsx)(s.p,{children:"Add workflows to your business logic to make it resilient to any failure."}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Write business logic in normal code, with branches, loop, subtasks, and retries."}),"\n",(0,t.jsx)(s.li,{children:"Workflows guarantee your critical business processes eventually complete, despite crashes, restarts, and failures."}),"\n"]}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/python/examples/widget-store",children:"See an example \u2197\ufe0f"})})]}),(0,t.jsx)("article",{className:"col col--7",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"@DBOS.step()\ndef validate_payment():\n    ...\n\n@DBOS.workflow()\ndef checkout_workflow()\n    validate_payment()\n    check_inventory()\n    ship_order()\n    notify_customer()\n"})})})]})})]}),"\n",(0,t.jsx)(s.h2,{id:"dbos-vs-other-systems",children:"DBOS vs. Other Systems"}),"\n",(0,t.jsx)(s.h3,{id:"dbos-vs-temporal",children:"DBOS vs. Temporal"}),"\n",(0,t.jsx)(s.p,{children:"Both DBOS and Temporal provide durable execution, but DBOS is implemented in a lightweight Postgres-backed library whereas Temporal is implemented in an externally orchestrated server."}),"\n",(0,t.jsxs)(s.p,{children:["You can add DBOS to your program by installing the open-source library, connecting it to Postgres, and annotating workflows and steps.\nBy contrast, to add Temporal to your program, you must rearchitect your program to move your workflows and steps (activities) to a Temporal worker, configure a Temporal server to orchestrate those workflows, and access your workflows only through a Temporal client.\n",(0,t.jsx)(s.a,{href:"/explanations/comparing-temporal",children:"This page"})," makes the comparison in more detail."]}),"\n",(0,t.jsx)(s.h3,{id:"dbos-vs-airflow",children:"DBOS vs. Airflow"}),"\n",(0,t.jsx)(s.p,{children:"DBOS and Airflow both provide workflow abstractions.\nAirflow is targeted at data science use cases, providing many out-of-the-box connectors but requiring workflows be written as explicit DAGs and externally orchestrating them from an Airflow cluster.\nAirflow is designed for batch operations and does not provide good performance for streaming or real-time use cases.\nDBOS is general-purpose, but is often used for data pipelines, allowing developers to write workflows as code and requiring no infrastructure except Postgres."}),"\n",(0,t.jsx)(s.h3,{id:"dbos-vs-celerybullmq",children:"DBOS vs. Celery/BullMQ"}),"\n",(0,t.jsxs)(s.p,{children:["DBOS provides a similar queue abstraction to dedicated queueing systems like Celery or BullMQ: you can declare queues, submit tasks to them, and control their flow with concurrency limits, rate limits, timeouts, prioritization, etc.\nHowever, DBOS queues are ",(0,t.jsx)(s.strong,{children:"durable and Postgres-backed"})," and integrate with durable workflows.\nFor example, in DBOS you can write a durable workflow that enqueues a thousand tasks and waits for their results.\nDBOS checkpoints the workflow and each of its tasks in Postgres, guaranteeing that even if failures or interruptions occur, the tasks will complete and the workflow will collect their results.\nBy contrast, Celery/BullMQ are Redis-backed and don't provide workflows, so they provide fewer guarantees but better performance."]})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}function u(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},764:(e,s,r)=>{r.d(s,{A:()=>o});const o=r.p+"assets/images/dbos-pg-e7fab60a07a86ab936384738e03ed135.png"},5374:(e,s,r)=>{r.d(s,{A:()=>o});const o=r.p+"assets/images/workflow-example-a1ac61ccbf88bf93d65a79722385a0cc.png"},8453:(e,s,r)=>{r.d(s,{R:()=>a,x:()=>i});var o=r(6540);const t={},n=o.createContext(t);function a(e){const s=o.useContext(n);return o.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),o.createElement(n.Provider,{value:s},e.children)}}}]);
"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[9425],{2357:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"integrations/django","title":"Django","description":"This guide shows you how to add DBOS durable workflows to your existing Django application to make it resilient to any failure.","source":"@site/docs/integrations/django.md","sourceDirName":"integrations","slug":"/integrations/django","permalink":"/integrations/django","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":50,"frontMatter":{"sidebar_position":50,"title":"Django"},"sidebar":"tutorialSidebar","previous":{"title":"Logfire","permalink":"/integrations/logfire"},"next":{"title":"Nest.js","permalink":"/integrations/nestjs"}}');var t=o(4848),s=o(8453);const r={sidebar_position:50,title:"Django"},a="DBOS + Django",d={},l=[{value:"Installation and Requirements",id:"installation-and-requirements",level:2},{value:"Configuring and Launching DBOS",id:"configuring-and-launching-dbos",level:2},{value:"Making Your Views Reliable",id:"making-your-views-reliable",level:2}];function c(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"dbos--django",children:"DBOS + Django"})}),"\n",(0,t.jsx)(e.p,{children:"This guide shows you how to add DBOS durable workflows to your existing Django application to make it resilient to any failure."}),"\n",(0,t.jsxs)(e.admonition,{type:"info",children:[(0,t.jsxs)(e.p,{children:["The guide is bootstrapped from the Django ",(0,t.jsx)(e.a,{href:"https://docs.djangoproject.com/en/5.2/intro/tutorial01/",children:"quickstart"}),"."]}),(0,t.jsxs)(e.p,{children:["See its source code on ",(0,t.jsx)(e.a,{href:"https://github.com/dbos-inc/dbos-demo-apps/tree/main/python/dbos-django-starter",children:"GitHub"}),"."]})]}),"\n",(0,t.jsx)(e.h2,{id:"installation-and-requirements",children:"Installation and Requirements"}),"\n",(0,t.jsx)(e.p,{children:"Install DBOS Python with:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"pip install dbos\n"})}),"\n",(0,t.jsx)(e.h2,{id:"configuring-and-launching-dbos",children:"Configuring and Launching DBOS"}),"\n",(0,t.jsxs)(e.p,{children:["In your Django application ",(0,t.jsx)(e.code,{children:"AppConfig"}),", configure and launch DBOS inside the ",(0,t.jsx)(e.code,{children:"ready"})," method:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",metastring:'title="project/settings.py"',children:'import os\nfrom django.apps import AppConfig\nfrom dbos import DBOS, DBOSConfig\n\nclass PollsConfig(AppConfig):\n    default_auto_field = \'django.db.models.BigAutoField\'\n    name = \'polls\'\n\n    def ready(self):\n        dbos_config: DBOSConfig = {\n            "name": "django-app",\n            "system_database_url": os.environ.get("DBOS_SYSTEM_DATABASE_URL"),\n        }\n        DBOS(config=dbos_config)\n        DBOS.launch()\n        return super().ready()\n'})}),"\n",(0,t.jsx)(e.admonition,{type:"tip",children:(0,t.jsxs)(e.p,{children:["If you're starting your Django app with ",(0,t.jsx)(e.code,{children:"python manage.py runserver"}),", we recommend setting the ",(0,t.jsx)(e.code,{children:"--noreload"})," flag during development to avoid repeatedly relaunching DBOS."]})}),"\n",(0,t.jsx)(e.h2,{id:"making-your-views-reliable",children:"Making Your Views Reliable"}),"\n",(0,t.jsx)(e.p,{children:"Once you've configured DBOS, you can add durable workflows to your application.\nThey're just ordinary Python functions you can call from your services or views!"}),"\n",(0,t.jsxs)(e.p,{children:["For example, here's a simple ",(0,t.jsx)(e.code,{children:"callWorkflow"})," view that invokes a workflow of two steps:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",metastring:'title="polls/views.py"',children:'def callWorkflow(request, a, b):\n    return JsonResponse(workflow(a, b))\n\n@DBOS.step()\ndef step_one(a):\n    print("Step one completed!", a)\n\n@DBOS.step()\ndef step_two(b):\n    print("Step two completed!", b)\n\n@DBOS.workflow()\ndef workflow(a, b):\n    step_one(a)\n    step_two(b)\n    return {"result": "success"}\n'})})]})}function p(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(c,{...n})}):c(n)}},8453:(n,e,o)=>{o.d(e,{R:()=>r,x:()=>a});var i=o(6540);const t={},s=i.createContext(t);function r(n){const e=i.useContext(s);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),i.createElement(s.Provider,{value:e},n.children)}}}]);
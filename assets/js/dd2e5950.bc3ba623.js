"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[8829],{5005:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var s=n(4848),t=n(8453);const r={sidebar_position:60,title:"Using Libraries",description:"Learn how to use DBOS library functions"},a=void 0,o={id:"typescript/tutorials/development/using-libraries",title:"Using Libraries",description:"Learn how to use DBOS library functions",source:"@site/docs/typescript/tutorials/development/using-libraries.md",sourceDirName:"typescript/tutorials/development",slug:"/typescript/tutorials/development/using-libraries",permalink:"/typescript/tutorials/development/using-libraries",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:60,frontMatter:{sidebar_position:60,title:"Using Libraries",description:"Learn how to use DBOS library functions"},sidebar:"tutorialSidebar",previous:{title:"Self-Hosting",permalink:"/typescript/tutorials/development/self-hosting"},next:{title:"Static Analysis",permalink:"/typescript/tutorials/development/static-analysis"}},l={},c=[{value:"Installing and Importing a Library",id:"installing-and-importing-a-library",level:3},{value:"Calling Simple Functions",id:"calling-simple-functions",level:3},{value:"Working With Instantiated Objects",id:"working-with-instantiated-objects",level:3}];function d(e){const i={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.p,{children:["In this guide, you'll learn how to use DBOS library functions.  Examples will be based on ",(0,s.jsx)(i.a,{href:"https://www.npmjs.com/package/@dbos-inc/dbos-email-ses",children:(0,s.jsx)(i.code,{children:"@dbos-inc/dbos-email-ses"})}),", a DBOS library for sending emails using ",(0,s.jsx)(i.a,{href:"https://aws.amazon.com/ses/",children:"AWS Simple Email Service"}),"."]}),"\n",(0,s.jsx)(i.h3,{id:"installing-and-importing-a-library",children:"Installing and Importing a Library"}),"\n",(0,s.jsx)(i.p,{children:"First, install the library."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"npm install @dbos-inc/dbos-email-ses\n"})}),"\n",(0,s.jsx)(i.p,{children:"Second, import the key classes from the library for use in your source files:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:'import { DBOS_SES } from "@dbos-inc/dbos-email-ses";\n'})}),"\n",(0,s.jsx)(i.h3,{id:"calling-simple-functions",children:"Calling Simple Functions"}),"\n",(0,s.jsxs)(i.p,{children:["Libraries such as ",(0,s.jsx)(i.code,{children:"@dbos-inc/dbos-bcrypt"})," or ",(0,s.jsx)(i.code,{children:"@dbos-inc/dbos-datetime"})," are comprised of functions that can be invoked from their classes.  Such functions may be called directly:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:"BcryptStep.bcryptHash('myString');\n"})}),"\n",(0,s.jsx)(i.h3,{id:"working-with-instantiated-objects",children:"Working With Instantiated Objects"}),"\n",(0,s.jsxs)(i.p,{children:["While libraries such as ",(0,s.jsx)(i.code,{children:"@dbos-inc/dbos-bcrypt"})," or ",(0,s.jsx)(i.code,{children:"@dbos-inc/dbos-datetime"})," have simple functions that can be called directly from their classes, more complex DBOS libraries use ",(0,s.jsx)(i.a,{href:"../instantiated-objects",children:'"instantiated objects"'})," so that they can be used in multiple scenarios within the same application.  To create and configure an instance:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:"import { DBOS } from \"@dbos-inc/dbos-sdk\";\nimport { DBOS_SES } from \"@dbos-inc/dbos-email-ses\";\n\nconst sesMailer = DBOS.configureInstance(DBOS_SES, 'marketing', {awscfgname: 'marketing_email_aws_config'});\n"})}),"\n",(0,s.jsxs)(i.p,{children:["Note that the ",(0,s.jsx)(i.code,{children:"configureInstance"})," call above serves multiple purposes:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Creates an instance of ",(0,s.jsx)(i.code,{children:"DBOS_SES"})]}),"\n",(0,s.jsx)(i.li,{children:"Provides the instance with enough information to find essential configuration information (AWS region, access key, and secret) from the configuration file"}),"\n",(0,s.jsx)(i.li,{children:"Registers the instance under the name 'marketing'"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Methods can then be called on the object instance:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:"sesMailer.sendEmail(\n{\n   to: [DBOS.getConfig('marketing_mailing_list_address', 'dbos@nowhere.dev')],\n   from: DBOS.getConfig('marketing_from_address', 'info@dbos.dev'),\n   subject: 'New SES Library Version Released',\n   bodyText: 'Check mailbox to see if this library is able to send mail about itself.',\n   // ...\n},\n"})})]})}function p(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>o});var s=n(6540);const t={},r=s.createContext(t);function a(e){const i=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);
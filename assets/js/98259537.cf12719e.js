"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[7839],{1303:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"cloud-tutorials/cicd","title":"CI/CD Best Practices","description":"Staging and Production Environments","source":"@site/docs/cloud-tutorials/cicd.md","sourceDirName":"cloud-tutorials","slug":"/cloud-tutorials/cicd","permalink":"/cloud-tutorials/cicd","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"CI/CD Best Practices"},"sidebar":"tutorialSidebar","previous":{"title":"Secrets and Environment Variables","permalink":"/cloud-tutorials/secrets"},"next":{"title":"Cloud CLI Reference","permalink":"/cloud-tutorials/cloud-cli"}}');var i=t(4848),a=t(8453);const s={sidebar_position:11,title:"CI/CD Best Practices"},c=void 0,r={},d=[{value:"Staging and Production Environments",id:"staging-and-production-environments",level:2},{value:"Authentication",id:"authentication",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"staging-and-production-environments",children:"Staging and Production Environments"}),"\n",(0,i.jsxs)(n.p,{children:["To make it easy to test changes to your application without affecting your production users, we recommend using separate staging and production environments.\nYou can do this by deploying your application with different names for staging and production.\nFor example, when deploying ",(0,i.jsx)(n.code,{children:"my-app"})," to staging, deploy using:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"dbos-cloud app deploy my-app-staging\n"})}),"\n",(0,i.jsx)(n.p,{children:"When deploying to production, use:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"dbos-cloud app deploy my-app-prod\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"my-app-staging"})," and ",(0,i.jsx)(n.code,{children:"my-app-prod"})," are completely separate and isolated DBOS applications.\nThere's nothing special about the ",(0,i.jsx)(n.code,{children:"-staging"})," and ",(0,i.jsx)(n.code,{children:"-prod"})," suffixes\u2014you can use any names you like."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["If you manually specify the application database name by setting ",(0,i.jsx)(n.code,{children:"app_db_name"})," in ",(0,i.jsx)(n.code,{children:"dbos_config.yaml"}),", you must ensure each environment uses a different value of ",(0,i.jsx)(n.code,{children:"app_db_name"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsxs)(n.p,{children:["You should use ",(0,i.jsx)(n.a,{href:"account-management#authenticating-programatically",children:"refresh tokens"})," to programmatically authenticate your CI/CD user with DBOS Cloud."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Upgrading to a DBOS Cloud paid plan will unlock ",(0,i.jsx)(n.a,{href:"account-management#organization-management",children:"multi-user organizations"})," which you can use to setup dedicated users for CI/CD."]})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>c});var o=t(6540);const i={},a=o.createContext(i);function s(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);
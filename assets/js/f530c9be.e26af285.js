"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[9082],{455:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>d});var l=o(4848),n=o(8453),a=o(2275);o(4262);const t={sidebar_position:5,title:"Supabase",hide_table_of_contents:!0},i="Use DBOS With Supabase",r={id:"integrations/supabase",title:"Supabase",description:"This guide shows you how to build an application with DBOS and Supabase.",source:"@site/docs/integrations/supabase.md",sourceDirName:"integrations",slug:"/integrations/supabase",permalink:"/integrations/supabase",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,title:"Supabase",hide_table_of_contents:!0},sidebar:"tutorialSidebar",previous:{title:"Cloud CLI Reference",permalink:"/cloud-tutorials/cloud-cli"},next:{title:"How Workflows Work",permalink:"/explanations/how-workflows-work"}},c={},d=[{value:"1. Connect to Supabase",id:"1-connect-to-supabase",level:3},{value:"2. Select a Template",id:"2-select-a-template",level:3},{value:"3. Connect to GitHub",id:"3-connect-to-github",level:3},{value:"4. Deploy to DBOS Cloud",id:"4-deploy-to-dbos-cloud",level:3},{value:"5. View Your Application",id:"5-view-your-application",level:3},{value:"Develop Locally",id:"develop-locally",level:2},{value:"1. Git Clone Your Application",id:"1-git-clone-your-application",level:4},{value:"2. Set up a Virtual Environment",id:"2-set-up-a-virtual-environment",level:4},{value:"3. Start Your App",id:"3-start-your-app",level:4},{value:"1. Git Clone Your Application",id:"1-git-clone-your-application-1",level:4},{value:"2. Install Dependencies",id:"2-install-dependencies",level:4},...a.RM,{value:"3. Start Your App",id:"3-start-your-app-1",level:4}];function p(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",...(0,n.R)(),...e.components},{BrowserWindow:t,Details:i,LargeTabItem:r,LargeTabs:c,TabItem:d,Tabs:p}=s;return t||u("BrowserWindow",!0),i||u("Details",!0),r||u("LargeTabItem",!0),c||u("LargeTabs",!0),d||u("TabItem",!0),p||u("Tabs",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"use-dbos-with-supabase",children:"Use DBOS With Supabase"})}),"\n",(0,l.jsxs)(s.p,{children:["This guide shows you how to build an application with DBOS and ",(0,l.jsx)(s.a,{href:"https://supabase.com/",children:"Supabase"}),".\nWhile Supabase stores your application's data, DBOS serverlessly hosts its code and makes it resilient to any failure."]}),"\n",(0,l.jsx)(s.h3,{id:"1-connect-to-supabase",children:"1. Connect to Supabase"}),"\n",(0,l.jsxs)(s.p,{children:["Visit ",(0,l.jsx)(s.a,{href:"https://console.dbos.dev/provision",children:"https://console.dbos.dev/provision"}),' and click "Connect Supabase" to connect your DBOS and Supabase accounts.']}),"\n",(0,l.jsx)("img",{src:o(6740).A,alt:"Cloud Console Templates",width:"800",className:"custom-img"}),"\n",(0,l.jsx)(s.p,{children:"After connecting your Supabase account, you should see a list of your Supabase projects.\nChoose one to use with DBOS.\nWhen prompted, enter your Supabase database password (you set this when you created your Supabase project, if you forgot it you can reset it from your Supabase dashboard)."}),"\n",(0,l.jsx)("img",{src:o(2274).A,alt:"Cloud Console Templates",width:"800",className:"custom-img"}),"\n",(0,l.jsx)(s.p,{children:"Congratulations! You've linked your Supabase project to DBOS. Now, let's deploy a DBOS app to your Supabase database."}),"\n",(0,l.jsx)(s.h3,{id:"2-select-a-template",children:"2. Select a Template"}),"\n",(0,l.jsxs)(s.p,{children:["Visit ",(0,l.jsx)(s.a,{href:"https://console.dbos.dev/launch",children:"https://console.dbos.dev/launch"}),". At the top of the page, make sure your Supabase database instance is selected."]}),"\n",(0,l.jsx)("img",{src:o(299).A,alt:"Cloud Console Templates",width:"800",className:"custom-img"}),"\n",(0,l.jsx)(s.p,{children:"Then, choose a template you'd like to deploy."}),"\n",(0,l.jsx)(s.p,{children:"Not sure which template to use? We recommend the DBOS Web App Starter."}),"\n",(0,l.jsx)("img",{src:o(5526).A,alt:"Cloud Console Templates",width:"800",className:"custom-img"}),"\n",(0,l.jsx)(s.h3,{id:"3-connect-to-github",children:"3. Connect to GitHub"}),"\n",(0,l.jsx)(s.p,{children:"To ensure you can easily update your project after deploying it, DBOS will create a GitHub repository for it.\nYou can deploy directly from that GitHub repository to DBOS Cloud."}),"\n",(0,l.jsx)(s.p,{children:"First, sign in to your GitHub account.\nThen, set your repository name and whether it should be public or private."}),"\n",(0,l.jsx)("img",{src:o(9825).A,alt:"Deploy with GitHub",width:"800",className:"custom-img"}),"\n",(0,l.jsx)(s.h3,{id:"4-deploy-to-dbos-cloud",children:"4. Deploy to DBOS Cloud"}),"\n",(0,l.jsx)(s.p,{children:'Click "Create GitHub Repo and Deploy" and DBOS will clone a copy of the source code into your GitHub account, then deploy your project to DBOS Cloud.\nIn less than a minute, your app should deploy successfully.'}),"\n",(0,l.jsx)(s.p,{children:"Congratulations, you've successfully deployed an app to DBOS Cloud and Supabase!"}),"\n",(0,l.jsx)("img",{src:o(9942).A,alt:"Deploy Success",width:"800",className:"custom-img"}),"\n",(0,l.jsx)(s.h3,{id:"5-view-your-application",children:"5. View Your Application"}),"\n",(0,l.jsxs)(s.p,{children:["At this point, your app is deployed, with its very own URL assigned.\nIf you continue to your ",(0,l.jsx)(s.a,{href:"https://console.dbos.dev/applications",children:"application page"}),", you can click on the URL to see your application live on the Internet."]}),"\n",(0,l.jsx)("img",{src:o(1345).A,alt:"Application page",width:"800",className:"custom-img"}),"\n",(0,l.jsxs)(s.p,{children:["To start building, edit your application on GitHub (for the web app starter, source code is in ",(0,l.jsx)(s.code,{children:"app/main.py"}),'), commit your changes, then press "Deploy From GitHub" to see your changes reflected in the live application.']}),"\n",(0,l.jsx)(s.h2,{id:"develop-locally",children:"Develop Locally"}),"\n",(0,l.jsx)(s.p,{children:"You can also develop your DBOS application locally while storing its data in Supabase!  Here's how:"}),"\n",(0,l.jsxs)(c,{groupId:"language",children:[(0,l.jsxs)(r,{value:"python",label:"Python",children:[(0,l.jsxs)("section",{className:"row list",children:[(0,l.jsxs)("article",{className:"col col--6",children:[(0,l.jsx)(s.h4,{id:"1-git-clone-your-application",children:"1. Git Clone Your Application"}),(0,l.jsx)(s.p,{children:"Clone your application from git and enter its directory."})]}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"git clone <your-git-url> my-app\ncd my-app\n"})})})]}),(0,l.jsxs)("section",{className:"row list",children:[(0,l.jsxs)("article",{className:"col col--6",children:[(0,l.jsx)(s.h4,{id:"2-set-up-a-virtual-environment",children:"2. Set up a Virtual Environment"}),(0,l.jsx)(s.p,{children:"Create a virtual environment and install dependencies."})]}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsxs)(p,{groupId:"operating-systems",className:"small-tabs",children:[(0,l.jsx)(d,{value:"maclinux",label:"macOS or Linux",children:(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"python3 -m venv .venv\nsource .venv/bin/activate\npip install -r requirements.txt\n"})})}),(0,l.jsx)(d,{value:"win-ps",label:"Windows (PowerShell)",children:(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"python3 -m venv .venv\n.venv\\Scripts\\activate.ps1\npip install -r requirements.txt\n"})})}),(0,l.jsx)(d,{value:"win-cmd",label:"Windows (cmd)",children:(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"python3 -m venv .venv\n.venv\\Scripts\\activate.bat\npip install -r requirements.txt\n"})})})]})})]}),(0,l.jsx)(s.h4,{id:"3-start-your-app",children:"3. Start Your App"}),(0,l.jsxs)("section",{className:"row list",children:[(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsx)(s.p,{children:"Now, start your app!"})}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"dbos start\n"})})}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsxs)(s.p,{children:["To see that your app is working, visit this URL in your browser: ",(0,l.jsx)(s.a,{href:"http://localhost:8000/",children:"http://localhost:8000/"})]})}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsx)(t,{url:"http://localhost:8000/",children:(0,l.jsx)(s.p,{children:(0,l.jsx)(s.strong,{children:"Welcome to DBOS!"})})})}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsxs)(s.p,{children:["Congratulations, you've started a DBOS+Supabase app locally!\nTo learn more about building DBOS apps, check out our ",(0,l.jsx)(s.a,{href:"/python/programming-guide",children:"Python programming guide"}),"."]})})]})]}),(0,l.jsxs)(r,{value:"typescript",label:"TypeScript",children:[(0,l.jsxs)("section",{className:"row list",children:[(0,l.jsxs)("article",{className:"col col--6",children:[(0,l.jsx)(s.h4,{id:"1-git-clone-your-application-1",children:"1. Git Clone Your Application"}),(0,l.jsx)(s.p,{children:"Clone your application from git and enter its directory."})]}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"git clone <your-git-url> my-app\ncd my-app\n"})})})]}),(0,l.jsxs)("section",{className:"row list",children:[(0,l.jsxs)("article",{className:"col col--6",children:[(0,l.jsx)(s.h4,{id:"2-install-dependencies",children:"2. Install Dependencies"}),(0,l.jsx)(s.p,{children:"DBOS TypeScript requires Node.js 20 or later."})]}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsxs)(i,{children:[(0,l.jsx)("summary",{children:"Instructions to install Node.js"}),(0,l.jsx)(a.Ay,{})]})}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsx)(s.p,{children:"Install dependencies."})}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"npm install\n"})})})]}),(0,l.jsx)(s.h4,{id:"3-start-your-app-1",children:"3. Start Your App"}),(0,l.jsxs)("section",{className:"row list",children:[(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsx)(s.p,{children:"Now, build and start your app!"})}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"npm run build\nnpm run start\n"})})}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsxs)(s.p,{children:["To see that your app is working, visit this URL in your browser: ",(0,l.jsx)(s.a,{href:"http://localhost:3000/",children:"http://localhost:3000/"})]})}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsx)(t,{url:"http://localhost:3000/",children:(0,l.jsx)(s.p,{children:(0,l.jsx)(s.strong,{children:"Welcome to DBOS!"})})})}),(0,l.jsx)("article",{className:"col col--6",children:(0,l.jsxs)(s.p,{children:["Congratulations, you've started your DBOS+Supabase app locally!\nTo learn more about building DBOS apps, check out our ",(0,l.jsx)(s.a,{href:"/typescript/programming-guide",children:"TypeScript programming guide"}),"."]})})]})]})]})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(p,{...e})}):p(e)}function u(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},2275:(e,s,o)=>{o.d(s,{Ay:()=>i,RM:()=>a});var l=o(4848),n=o(8453);const a=[];function t(e){const s={a:"a",code:"code",p:"p",pre:"pre",...(0,n.R)(),...e.components},{TabItem:o,Tabs:a}=s;return o||r("TabItem",!0),a||r("Tabs",!0),(0,l.jsxs)(a,{groupId:"operating-systems",className:"small-tabs",children:[(0,l.jsxs)(o,{value:"maclinux",label:"macOS or Linux",children:[(0,l.jsx)(s.p,{children:"Run the following commands in your terminal:"}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:'curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash\n\nexport NVM_DIR="$HOME/.nvm"\n[ -s "$NVM_DIR/nvm.sh" ] && \\. "$NVM_DIR/nvm.sh"  # This loads nvm\n\nnvm install 22\nnvm use 22\n'})})]}),(0,l.jsx)(o,{value:"win-ps",label:"Windows",children:(0,l.jsxs)(s.p,{children:["Download Node.js 20 or later from the ",(0,l.jsx)(s.a,{href:"https://nodejs.org/en/download",children:"official Node.js download page"})," and install it.\nAfter installing Node.js, create the following folder: ",(0,l.jsx)(s.code,{children:"C:\\Users\\%user%\\AppData\\Roaming\\npm"}),"\n(",(0,l.jsx)(s.code,{children:"%user%"})," is the Windows user on which you are logged in)."]})})]})}function i(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}function r(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},4262:(e,s,o)=>{o.d(s,{Ay:()=>r,RM:()=>t});var l=o(4848),n=o(8453),a=o(1432);const t=[];function i(e){const s={a:"a",code:"code",p:"p",pre:"pre",...(0,n.R)(),...e.components},{TabItem:o,Tabs:t}=s;return o||c("TabItem",!0),t||c("Tabs",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(t,{groupId:"postgres-or-docker",className:"small-tabs",children:[(0,l.jsxs)(o,{value:"cloud",label:"Use Cloud Postgres",children:[(0,l.jsx)(s.p,{children:"You can connect your local application to a Postgres database hosted in DBOS Cloud."}),(0,l.jsx)(s.p,{children:"First, set a password for your DBOS Cloud database:"}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"dbos-cloud db reset-password\n"})}),(0,l.jsx)(s.p,{children:"Then connect your local app to your cloud database.\nWhen prompted, enter the password you just set."}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"dbos-cloud db local\n"})})]}),(0,l.jsxs)(o,{value:"docker",label:"Launch Postgres with Docker",children:[(0,l.jsxs)(t,{groupId:"operating-systems",className:"small-tabs",children:[(0,l.jsxs)(o,{value:"mac",label:"macOS",children:[(0,l.jsxs)(s.p,{children:["You can install Docker on macOS through ",(0,l.jsx)(s.a,{href:"https://docs.docker.com/desktop/install/mac-install/",children:"Docker Desktop"}),"."]}),(0,l.jsx)(s.p,{children:"Then, run this script to launch Postgres in a Docker container:"}),(0,l.jsx)(a.A,{language:"bash",children:`export PGPASSWORD=dbos\n# Docker may require sudo -E\n${e.cmd}`})]}),(0,l.jsxs)(o,{value:"linux",label:"Linux",children:[(0,l.jsxs)(s.p,{children:["Follow the ",(0,l.jsx)(s.a,{href:"https://docs.docker.com/engine/install/",children:"Docker Engine installation page"})," to install Docker on several popular Linux distributions."]}),(0,l.jsx)(s.p,{children:"Then, run this script to launch Postgres in a Docker container:"}),(0,l.jsx)(a.A,{language:"bash",children:`export PGPASSWORD=dbos\n# Docker may require sudo -E\n${e.cmd}`})]}),(0,l.jsxs)(o,{value:"win-ps",label:"Windows (PowerShell)",children:[(0,l.jsxs)(s.p,{children:["You can install Docker on Windows through ",(0,l.jsx)(s.a,{href:"https://docs.docker.com/desktop/install/windows-install/",children:"Docker Desktop"}),"."]}),(0,l.jsx)(s.p,{children:"Then, run this script to launch Postgres in a Docker container:"}),(0,l.jsx)(a.A,{language:"bash",children:`$env:PGPASSWORD = "dbos"\n${e.cmd}`})]}),(0,l.jsxs)(o,{value:"win-cmd",label:"Windows (cmd)",children:[(0,l.jsxs)(s.p,{children:["You can install Docker on Windows through ",(0,l.jsx)(s.a,{href:"https://docs.docker.com/desktop/install/windows-install/",children:"Docker Desktop"}),"."]}),(0,l.jsx)(s.p,{children:"Then, run this script to launch Postgres in a Docker container:"}),(0,l.jsx)(a.A,{language:"bash",children:`set PGPASSWORD=dbos\n${e.cmd}`})]})]}),(0,l.jsxs)(s.p,{children:["If successful, the script should print ",(0,l.jsx)(s.code,{children:"Database started successfully!"})]})]}),(0,l.jsx)(o,{value:"postgres",label:"Install Postgres",children:(0,l.jsxs)(t,{groupId:"operating-systems",className:"small-tabs",children:[(0,l.jsxs)(o,{value:"mac",label:"macOS",children:[(0,l.jsxs)(s.p,{children:["Follow ",(0,l.jsx)(s.a,{href:"https://www.postgresql.org/download/macosx/",children:"this guide"})," to install Postgres on macOS."]}),(0,l.jsxs)(s.p,{children:["Then, set the ",(0,l.jsx)(s.code,{children:"PGPASSWORD"})," environment variable to your Postgres password:"]}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"export PGPASSWORD=<your-postgres-password>\n"})})]}),(0,l.jsxs)(o,{value:"linux",label:"Linux",children:[(0,l.jsxs)(s.p,{children:["Follow these ",(0,l.jsx)(s.a,{href:"https://www.postgresql.org/download/linux/",children:"guides"})," to install Postgres on popular Linux distributions."]}),(0,l.jsxs)(s.p,{children:["Then, set the ",(0,l.jsx)(s.code,{children:"PGPASSWORD"})," environment variable to your Postgres password:"]}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"export PGPASSWORD=<your-postgres-password>\n"})})]}),(0,l.jsxs)(o,{value:"win-ps",label:"Windows (PowerShell)",children:[(0,l.jsxs)(s.p,{children:["Follow ",(0,l.jsx)(s.a,{href:"https://www.postgresql.org/download/windows/",children:"this guide"})," to install Postgres on Windows."]}),(0,l.jsxs)(s.p,{children:["Then, set the ",(0,l.jsx)(s.code,{children:"PGPASSWORD"})," environment variable to your Postgres password:"]}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:'$env:PGPASSWORD = "<your-postgres-password>"\n'})})]}),(0,l.jsxs)(o,{value:"win-cmd",label:"Windows (cmd)",children:[(0,l.jsxs)(s.p,{children:["Follow ",(0,l.jsx)(s.a,{href:"https://www.postgresql.org/download/windows/",children:"this guide"})," to install Postgres on Windows."]}),(0,l.jsxs)(s.p,{children:["Then, set the ",(0,l.jsx)(s.code,{children:"PGPASSWORD"})," environment variable to your Postgres password:"]}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"set PGPASSWORD=<your-postgres-password>\n"})})]})]})})]}),"\n",(0,l.jsxs)(s.p,{children:["Alternatively, if you already have a Postgres database, update ",(0,l.jsx)(s.code,{children:"dbos-config.yaml"})," with its connection information."]})]})}function r(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(i,{...e})}):i(e)}function c(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},5526:(e,s,o)=>{o.d(s,{A:()=>l});const l=o.p+"assets/images/1-pick-template-f766de9bc95aa1086025e7b0c2f726c2.png"},9825:(e,s,o)=>{o.d(s,{A:()=>l});const l=o.p+"assets/images/3-deploy-github-41e1e66af4baac767d67ab6f316a5f8f.png"},9942:(e,s,o)=>{o.d(s,{A:()=>l});const l=o.p+"assets/images/4-deploy-success-d0bcc0f9692da8fdab1acc6dc445011d.png"},1345:(e,s,o)=>{o.d(s,{A:()=>l});const l=o.p+"assets/images/5-app-page-7fdd8e1ce2b44794862b520a0f654b51.png"},6740:(e,s,o)=>{o.d(s,{A:()=>l});const l=o.p+"assets/images/1-supabase-list-7442239f16f10032a7ac5a2631e2242f.png"},2274:(e,s,o)=>{o.d(s,{A:()=>l});const l=o.p+"assets/images/2-supabase-starter-eaccd01f1dbe541657843c1994f6999e.png"},299:(e,s,o)=>{o.d(s,{A:()=>l});const l=o.p+"assets/images/3-choose-supabase-35b1570a660b99cb8f6ad6933e3c613e.png"}}]);
"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[1195],{427:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>d});var a=o(4848),i=o(8453);const t={sidebar_position:1,title:"Application Management",description:"Learn how to manage DBOS Cloud applications",pagination_prev:null},l=void 0,s={id:"cloud-tutorials/application-management",title:"Application Management",description:"Learn how to manage DBOS Cloud applications",source:"@site/docs/cloud-tutorials/application-management.md",sourceDirName:"cloud-tutorials",slug:"/cloud-tutorials/application-management",permalink:"/cloud-tutorials/application-management",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Application Management",description:"Learn how to manage DBOS Cloud applications",pagination_prev:null},sidebar:"tutorialSidebar",next:{title:"Account Management",permalink:"/cloud-tutorials/account-management"}},r={},d=[{value:"Deploying Applications",id:"deploying-applications",level:3},{value:"Monitoring and Debugging Applications",id:"monitoring-and-debugging-applications",level:3},{value:"Managing Application Versions",id:"managing-application-versions",level:3},{value:"Updating Applications",id:"updating-applications",level:3},{value:"Deleting Applications",id:"deleting-applications",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"In this guide, you'll learn how to manage applications in DBOS Cloud."}),"\n",(0,a.jsx)(n.h3,{id:"deploying-applications",children:"Deploying Applications"}),"\n",(0,a.jsx)(n.p,{children:"To deploy your application to DBOS Cloud, run this command in its root directory:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"dbos-cloud app deploy\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Your application is deployed using the name in its ",(0,a.jsx)(n.code,{children:"dbos-config.yaml"}),".\nApplication names should be between 3 and 30 characters and must contain only lowercase letters and numbers, dashes (",(0,a.jsx)(n.code,{children:"-"}),"), and underscores (",(0,a.jsx)(n.code,{children:"_"}),"). Application names are unique within an ",(0,a.jsx)(n.a,{href:"account-management#organization-management",children:"organization"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["The first time you deploy an application, you are prompted to choose to which ",(0,a.jsx)(n.a,{href:"/cloud-tutorials/database-management",children:"database instance"})," to connect your app, or to provision one if you have none.\nMultiple applications can connect to the same database instance (server)\u2014they are deployed to isolated databases on that server."]}),"\n",(0,a.jsx)(n.p,{children:"Each time you deploy an application, the following steps execute:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"An archive of your application folder is created and uploaded to DBOS Cloud. This archive can be up to 500 MB in size."}),"\n",(0,a.jsxs)(n.li,{children:["Your application's dependencies are installed.\nIn Python, dependencies are loaded from ",(0,a.jsx)(n.code,{children:"requirements.txt"}),".\nIn TypeScript, they are loaded from ",(0,a.jsx)(n.code,{children:"package-lock.json"}),", or from ",(0,a.jsx)(n.code,{children:"package.json"})," if this is not present.\nYou must provide one of these files to successfully deploy."]}),"\n",(0,a.jsxs)(n.li,{children:["All database migrations specified in your ",(0,a.jsx)(n.code,{children:"dbos-config.yaml"})," are run on your cloud database."]}),"\n",(0,a.jsxs)(n.li,{children:["Your application is deployed to a number of ",(0,a.jsx)(n.a,{href:"https://firecracker-microvm.github.io/",children:"Firecracker microVMs"}),"\u2014referred to as ",(0,a.jsx)(n.code,{children:"executors"})," internally\u2014with 1vCPU and 512MB of RAM by default. DBOS Pro subscribers can configure the amount of memory allocated to each executor by ",(0,a.jsx)(n.a,{href:"../cloud-tutorials/cloud-cli#dbos-cloud-app-update",children:"updating their application"}),".\nThese microVMs expect your application to serve requests from port 8000 (Python\u2014the default port for FastAPI and Gunicorn) or 3000 (TypeScript\u2014the default port for DBOS Transact and Koa)."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["After your application is deployed, the URL of your deployed application is printed.\nThis URL is of the form ",(0,a.jsx)(n.code,{children:"https://<username>-<app-name>.cloud.dbos.dev/"}),".\nIf your account is part of an ",(0,a.jsx)(n.a,{href:"/cloud-tutorials/account-management#organization-management",children:"organization"}),", organization name is used instead of username."]}),"\n",(0,a.jsxs)(n.p,{children:["If you edit your application, run ",(0,a.jsx)(n.code,{children:"dbos-cloud app deploy"})," again to apply the latest migrations and upgrade to the latest version."]}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["During your first deploy, you can programatically specify a particular database instance through the ",(0,a.jsx)(n.code,{children:"-d <database-instance-name>"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["During the first deploy, you can enable time travel for your application with ",(0,a.jsx)(n.code,{children:"--enable-timetravel"}),". You can delete and re-deploy an existing application to enable time travel."]}),"\n",(0,a.jsxs)(n.li,{children:["You don't have to worry about changing database server connection parameters like ",(0,a.jsx)(n.code,{children:"hostname"})," or ",(0,a.jsx)(n.code,{children:"password"})," in ",(0,a.jsx)(n.code,{children:"dbos-config.yaml"})," to deploy an application to the cloud\u2014DBOS automatically applies the connection information of your cloud database instance."]}),"\n",(0,a.jsx)(n.li,{children:"You cannot change the database of a deployed application. You must delete and re-deploy the application."}),"\n"]})}),"\n",(0,a.jsx)(n.h3,{id:"monitoring-and-debugging-applications",children:"Monitoring and Debugging Applications"}),"\n",(0,a.jsx)(n.p,{children:"DBOS provides many tools to monitor and debug applications:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["To get a high-level view of all your applications and their traces and logs, check out ",(0,a.jsx)(n.a,{href:"./monitoring-dashboard",children:"our monitoring dashboard"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["To replay DBOS Cloud execution traces locally, check out our ",(0,a.jsx)(n.a,{href:"./timetravel-debugging",children:"time travel debugger"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["To retrieve the last ",(0,a.jsx)(n.code,{children:"N"})," seconds of your application's logs, run in your application root directory ",(0,a.jsx)(n.a,{href:"/cloud-tutorials/cloud-cli#dbos-cloud-app-logs",children:(0,a.jsx)(n.code,{children:"dbos-cloud app logs -l <N>"})}),". Note that new log entries take a few seconds to appear."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["To retrieve the status of a particular application, run ",(0,a.jsx)(n.a,{href:"/cloud-tutorials/cloud-cli#dbos-cloud-app-status",children:(0,a.jsx)(n.code,{children:"dbos-cloud app status <app-name>"})}),". To retrieve the statuses of all applications, run ",(0,a.jsx)(n.a,{href:"/cloud-tutorials/cloud-cli#dbos-cloud-app-list",children:(0,a.jsx)(n.code,{children:"dbos-cloud app list"})}),"."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"managing-application-versions",children:"Managing Application Versions"}),"\n",(0,a.jsx)(n.p,{children:"Each time you deploy an application, it creates a new version with a unique ID.\nTo list all previous versions of your application, run:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"dbos-cloud app versions <app-name>\n"})}),"\n",(0,a.jsxs)(n.p,{children:["You can redeploy a previous version of your application by passing ",(0,a.jsx)(n.code,{children:"--previous-version <version-id>"})," to the ",(0,a.jsx)(n.a,{href:"/cloud-tutorials/cloud-cli#dbos-cloud-app-deploy",children:(0,a.jsx)(n.code,{children:"app deploy"})})," command."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"dbos-cloud app deploy --previous-version <version-id>\n"})}),"\n",(0,a.jsx)(n.p,{children:"This will fail if the previous and current versions have different database schemas."}),"\n",(0,a.jsx)(n.h3,{id:"updating-applications",children:"Updating Applications"}),"\n",(0,a.jsx)(n.p,{children:"To update your application metadata, run:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"dbos-cloud app update <app-name>\n"})}),"\n",(0,a.jsxs)(n.p,{children:["See the ",(0,a.jsx)(n.a,{href:"/cloud-tutorials/cloud-cli#dbos-cloud-app-update",children:"DBOS Cloud CLI reference"})," for a list of properties you can update. Note that updating an application metadata does not trigger a redeploy of the code, which you can do with the ",(0,a.jsx)(n.a,{href:"/cloud-tutorials/cloud-cli#dbos-cloud-app-deploy",children:(0,a.jsx)(n.code,{children:"app deploy"})})," command."]}),"\n",(0,a.jsx)(n.h3,{id:"deleting-applications",children:"Deleting Applications"}),"\n",(0,a.jsx)(n.p,{children:"To delete an application, run:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"dbos-cloud app delete <app-name>\n"})}),"\n",(0,a.jsxs)(n.p,{children:["You can also delete the application database (",(0,a.jsx)(n.code,{children:"app_db_name"}),") with the ",(0,a.jsx)(n.code,{children:"--dropdb"})," argument:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"dbos-cloud app delete <app-name> --dropdb\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsx)(n.p,{children:"This is a destructive operation and cannot be undone."})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>l,x:()=>s});var a=o(6540);const i={},t=a.createContext(i);function l(e){const n=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),a.createElement(t.Provider,{value:n},e.children)}}}]);
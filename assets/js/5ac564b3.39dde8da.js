"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[1310],{8553:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"python/reference/client","title":"DBOS Client","description":"DBOSClient provides a programmatic way to interact with your DBOS application from external code.","source":"@site/docs/python/reference/client.md","sourceDirName":"python/reference","slug":"/python/reference/client","permalink":"/python/reference/client","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10,"title":"DBOS Client"},"sidebar":"tutorialSidebar","previous":{"title":"Workflow Handles","permalink":"/python/reference/workflow_handles"},"next":{"title":"Configuration","permalink":"/python/reference/configuration"}}');var o=s(4848),i=s(8453);const t={sidebar_position:10,title:"DBOS Client"},l=void 0,c={},d=[{value:"Constructor",id:"constructor",level:3},{value:"Workflow Interaction Methods",id:"workflow-interaction-methods",level:2},{value:"enqueue",id:"enqueue",level:3},{value:"enqueue_async",id:"enqueue_async",level:3},{value:"retrieve_workflow",id:"retrieve_workflow",level:3},{value:"retrieve_workflow_async",id:"retrieve_workflow_async",level:3},{value:"send",id:"send",level:3},{value:"send_async",id:"send_async",level:3},{value:"get_event",id:"get_event",level:3},{value:"get_event_async",id:"get_event_async",level:3},{value:"read_stream",id:"read_stream",level:3},{value:"read_stream_async",id:"read_stream_async",level:3},{value:"Workflow Management Methods",id:"workflow-management-methods",level:2},{value:"list_workflows",id:"list_workflows",level:3},{value:"list_workflows_async",id:"list_workflows_async",level:3},{value:"list_queued_workflows",id:"list_queued_workflows",level:3},{value:"list_queued_workflows_async",id:"list_queued_workflows_async",level:3},{value:"list_workflow_steps",id:"list_workflow_steps",level:3},{value:"list_workflow_steps_async",id:"list_workflow_steps_async",level:3},{value:"cancel_workflow",id:"cancel_workflow",level:3},{value:"cancel_workflow_async",id:"cancel_workflow_async",level:3},{value:"resume_workflow",id:"resume_workflow",level:3},{value:"resume_workflow_async",id:"resume_workflow_async",level:3},{value:"fork_workflow",id:"fork_workflow",level:3},{value:"fork_workflow_async",id:"fork_workflow_async",level:3},{value:"Debouncing",id:"debouncing",level:2},{value:"DebouncerClient",id:"debouncerclient",level:3},{value:"debounce",id:"debounce",level:3},{value:"debounce_async",id:"debounce_async",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"DBOSClient"})," provides a programmatic way to interact with your DBOS application from external code.\n",(0,o.jsx)(n.code,{children:"DBOSClient"})," includes methods similar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts",children:(0,o.jsx)(n.code,{children:"DBOS"})})," that can be used outside of a DBOS application,\nsuch as ",(0,o.jsx)(n.a,{href:"/python/reference/queues#enqueue",children:(0,o.jsx)(n.code,{children:"enqueue"})})," or ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#get_event",children:(0,o.jsx)(n.code,{children:"getEvent"})}),"."]}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{}),(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"DBOSClient"})," is included in the ",(0,o.jsx)(n.code,{children:"dbos"})," package, the same package that used by DBOS applications.\nWhere DBOS applications use the ",(0,o.jsxs)(n.a,{href:"/python/reference/contexts",children:[(0,o.jsx)(n.code,{children:"DBOS"})," methods"]}),",\nexternal applications use ",(0,o.jsx)(n.code,{children:"DBOSClient"})," instead."]})]}),"\n",(0,o.jsx)(n.h3,{id:"constructor",children:"Constructor"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"DBOSClient(\n    *, \n    system_database_url: Optional[str] = None,\n    application_database_url: Optional[str] = None,\n)\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"system_database_url"}),": A connection string to your DBOS system database, with the same format and defaults as in ",(0,o.jsx)(n.a,{href:"/python/reference/configuration",children:"DBOSConfig"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"application_database_url"}),": A connection string to your DBOS application database, with the same format and defaults as in ",(0,o.jsx)(n.a,{href:"/python/reference/configuration",children:"DBOSConfig"}),".\nNot required unless you use DBOS ",(0,o.jsx)(n.a,{href:"/python/tutorials/transaction-tutorial",children:"transactions"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example syntax:"})}),"\n",(0,o.jsxs)(n.p,{children:["This DBOS client connects to the system database specified in the ",(0,o.jsx)(n.code,{children:"DBOS_SYSTEM_DATABASE_URL"})," environment variable."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'client = DBOSClient(system_database_url=os.environ["DBOS_SYSTEM_DATABASE_URL"])\n'})}),"\n",(0,o.jsx)(n.h2,{id:"workflow-interaction-methods",children:"Workflow Interaction Methods"}),"\n",(0,o.jsx)(n.h3,{id:"enqueue",children:"enqueue"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"class EnqueueOptions(TypedDict):\n    workflow_name: str\n    queue_name: str\n    workflow_id: NotRequired[str]\n    app_version: NotRequired[str]\n    workflow_timeout: NotRequired[float]\n    deduplication_id: NotRequired[str]\n    priority: NotRequired[int]\n\nclient.enqueue(\n    options: EnqueueOptions, \n    *args: Any, \n    **kwargs: Any\n) -> WorkflowHandle[R]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Enqueue a workflow for processing and return a handle to it, similar to ",(0,o.jsx)(n.a,{href:"/python/reference/queues#enqueue",children:"Queue.enqueue"}),".\nReturns a ",(0,o.jsx)(n.a,{href:"/python/reference/workflow_handles#workflowhandle",children:"WorkflowHandle"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["When enqueuing a workflow from within a DBOS application, the workflow and queue metadata can be retrieved automatically.\nHowever, since ",(0,o.jsx)(n.code,{children:"DBOSClient"})," runs outside the DBOS application, the metadata must be specified explicitly."]}),"\n",(0,o.jsx)(n.p,{children:"Required metadata includes:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"workflow_name"}),": The name of the workflow method being enqueued."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"queue_name"}),": The name of the ",(0,o.jsx)(n.a,{href:"/python/reference/queues",children:"Queue"})," to enqueue the workflow on."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Additional but optional metadata includes:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"workflow_id"}),": The unique ID for the enqueued workflow.\nIf left undefined, DBOS Client will generate a ",(0,o.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Universally_unique_identifier",children:"UUID"}),".\nPlease see ",(0,o.jsx)(n.a,{href:"../tutorials/workflow-tutorial#workflow-ids-and-idempotency",children:"Workflow IDs and Idempotency"})," for more information."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"app_version"}),": The version of your application that should process this workflow.\nIf left undefined, it will be updated to the current version when the workflow is first dequeued.\nPlease see ",(0,o.jsx)(n.a,{href:"../../production/self-hosting/workflow-recovery#managing-application-versions",children:"Managing Application Versions"})," for more information."]}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"workflow_timeout"}),": Set a timeout for the enqueued workflow. When the timeout expires, the workflow ",(0,o.jsx)(n.strong,{children:"and all its children"})," are cancelled. The timeout does not begin until the workflow is dequeued and starts execution."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"deduplication_id"}),": At any given time, only one workflow with a specific deduplication ID can be enqueued in the specified queue. If a workflow with a deduplication ID is currently enqueued or actively executing (status ",(0,o.jsx)(n.code,{children:"ENQUEUED"})," or ",(0,o.jsx)(n.code,{children:"PENDING"}),"), subsequent workflow enqueue attempt with the same deduplication ID in the same queue will raise a ",(0,o.jsx)(n.code,{children:"DBOSQueueDeduplicatedError"})," exception."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"priority"}),": The priority of the enqueued workflow in the specified queue. Workflows with the same priority are dequeued in ",(0,o.jsx)(n.strong,{children:"FIFO (first in, first out)"})," order. Priority values can range from ",(0,o.jsx)(n.code,{children:"1"})," to ",(0,o.jsx)(n.code,{children:"2,147,483,647"}),", where ",(0,o.jsx)(n.strong,{children:"a low number indicates a higher priority"}),". Workflows without assigned priorities have the highest priority and are dequeued before workflows with assigned priorities."]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"warning",children:(0,o.jsxs)(n.p,{children:["At this time, DBOS Client cannot enqueue workflows that are methods on ",(0,o.jsx)(n.a,{href:"/python/tutorials/classes",children:"Python classes"}),"."]})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example syntax:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'options: EnqueueOptions = {\n  "queue_name": "process_task",\n  "workflow_name": "example_queue",\n}\nhandle = client.enqueue(options, task)\nresult = handle.get_result()\n'})}),"\n",(0,o.jsx)(n.h3,{id:"enqueue_async",children:"enqueue_async"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.enqueue_async(\n    options: EnqueueOptions, \n    *args: Any, \n    **kwargs: Any\n) -> WorkflowHandleAsync[R]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Similar to ",(0,o.jsx)(n.a,{href:"#enqueue",children:"enqueue"}),", but enqueues asynchronously and returns a\n",(0,o.jsx)(n.a,{href:"/python/reference/workflow_handles#workflowhandleasync",children:"WorkflowHandleAsync"}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example syntax:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'options: EnqueueOptions = {\n  "queue_name": "process_task",\n  "workflow_name": "example_queue",\n}\nhandle = await client.enqueue_async(options, task)\nresult = await handle.get_result()\n'})}),"\n",(0,o.jsx)(n.h3,{id:"retrieve_workflow",children:"retrieve_workflow"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.retrieve_workflow(\n    workflow_id: str, \n) -> WorkflowHandle[R]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Retrieve the ",(0,o.jsx)(n.a,{href:"/python/reference/workflow_handles#workflowhandle",children:"handle"})," of a workflow with identity ",(0,o.jsx)(n.code,{children:"workflow_id"}),".\nSimilar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#retrieve_workflow",children:(0,o.jsx)(n.code,{children:"DBOS.retrieve_workflow"})}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"workflow_id"}),": The identifier of the workflow whose handle to retrieve."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.a,{href:"/python/reference/workflow_handles#workflowhandle",children:"WorkflowHandle"})," of the workflow whose ID is ",(0,o.jsx)(n.code,{children:"workflow_id"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"retrieve_workflow_async",children:"retrieve_workflow_async"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.retrieve_workflow_async(\n    workflow_id: str, \n) -> WorkflowHandleAsync[R]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Asynchronously retrieve the ",(0,o.jsx)(n.a,{href:"/python/reference/workflow_handles#workflowhandleasync",children:"handle"})," of a workflow with identity ",(0,o.jsx)(n.code,{children:"workflow_id"}),".\nSimilar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#retrieve_workflow",children:(0,o.jsx)(n.code,{children:"DBOS.retrieve_workflow"})}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"workflow_id"}),": The identifier of the workflow whose handle to retrieve."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.a,{href:"/python/reference/workflow_handles#workflowhandleasync",children:"WorkflowHandleAsync"})," of the workflow whose ID is ",(0,o.jsx)(n.code,{children:"workflow_id"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"send",children:"send"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.send(\n    destination_id: str,\n    message: Any,\n    topic: Optional[str] = None,\n    idempotency_key: Optional[str] = None,\n) -> None\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Sends a message to a specified workflow. Similar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#send",children:(0,o.jsx)(n.code,{children:"DBOS.send"})}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"destination_id"}),": The workflow to which to send the message."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"message"}),": The message to send. Must be serializable."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"topic"}),": An optional topic with which to associate the message. Messages are enqueued per-topic on the receiver."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"idempotency_key"}),": An optional string used to ensure exactly-once delivery, even from outside of the DBOS application."]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"warning",children:(0,o.jsxs)(n.p,{children:["Since DBOS Client is running outside of a DBOS application,\nit is highly recommended that you use the ",(0,o.jsx)(n.code,{children:"idempotencyKey"})," parameter with both ",(0,o.jsx)(n.code,{children:"send"})," and ",(0,o.jsx)(n.code,{children:"send_async"}),"\nin order to get exactly-once behavior."]})}),"\n",(0,o.jsx)(n.h3,{id:"send_async",children:"send_async"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.send_async(\n    destination_id: str,\n    message: Any,\n    topic: Optional[str] = None,\n    idempotency_key: Optional[str] = None,\n) -> None\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Asynchronously sends a message to a specified workflow. Similar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#send_async",children:(0,o.jsx)(n.code,{children:"DBOS.send_async"})}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"destination_id"}),": The workflow to which to send the message."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"message"}),": The message to send. Must be serializable."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"topic"}),": An optional topic with which to associate the message. Messages are enqueued per-topic on the receiver."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"idempotency_key"}),": An optional string used to ensure exactly-once delivery, even from outside of the DBOS application."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"get_event",children:"get_event"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.get_event(\n    workflow_id: str, \n    key: str, \n    timeout_seconds: float = 60\n) -> Any\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Retrieve the latest value of an event published by the workflow identified by ",(0,o.jsx)(n.code,{children:"workflow_id"})," to the key ",(0,o.jsx)(n.code,{children:"key"}),".\nIf the event does not yet exist, wait for it to be published, returning ",(0,o.jsx)(n.code,{children:"None"})," if the wait times out.\nSimilar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#get_event",children:"`DBOS.get_event"}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"workflow_id"}),": The identifier of the workflow whose events to retrieve."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"key"}),": The key of the event to retrieve."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"timeout_seconds"}),": A timeout in seconds. If the wait times out, return ",(0,o.jsx)(n.code,{children:"None"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The value of the event published by ",(0,o.jsx)(n.code,{children:"workflow_id"})," with name ",(0,o.jsx)(n.code,{children:"key"}),", or ",(0,o.jsx)(n.code,{children:"None"})," if the wait times out."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"get_event_async",children:"get_event_async"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.get_event_async(\n    workflow_id: str, \n    key: str, \n    timeout_seconds: float = 60\n) -> Any\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Asynchronously retrieve the latest value of an event published by the workflow identified by ",(0,o.jsx)(n.code,{children:"workflow_id"})," to the key ",(0,o.jsx)(n.code,{children:"key"}),".\nIf the event does not yet exist, wait for it to be published, returning ",(0,o.jsx)(n.code,{children:"None"})," if the wait times out.\nSimilar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#get_event_async",children:"`DBOS.get_event_async"}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"workflow_id"}),": The identifier of the workflow whose events to retrieve."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"key"}),": The key of the event to retrieve."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"timeout_seconds"}),": A timeout in seconds. If the wait times out, return ",(0,o.jsx)(n.code,{children:"None"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The value of the event published by ",(0,o.jsx)(n.code,{children:"workflow_id"})," with name ",(0,o.jsx)(n.code,{children:"key"}),", or ",(0,o.jsx)(n.code,{children:"None"})," if the wait times out."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"read_stream",children:"read_stream"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.read_stream(\n    workflow_id: str,\n    key: str\n) -> Generator[Any, Any, None]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Read values from a stream as a generator.\nThis function reads values from a stream identified by the workflow_id and key,\nyielding each value in order until the stream is closed or the workflow terminates.\nSimilar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#read_stream",children:(0,o.jsx)(n.code,{children:"DBOS.read_stream"})}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"workflow_id"}),": The workflow instance ID that owns the stream"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"key"}),": The stream key / name within the workflow"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Yields:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Each value in the stream until the stream is closed"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example syntax:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'for value in client.read_stream(workflow_id, "results"):\n    print(f"Received: {value}")\n'})}),"\n",(0,o.jsx)(n.h3,{id:"read_stream_async",children:"read_stream_async"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.read_stream_async(\n    workflow_id: str,\n    key: str\n) -> AsyncGenerator[Any, None]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Read values from a stream as an async generator.\nThis function reads values from a stream identified by the workflow_id and key,\nyielding each value in order until the stream is closed or the workflow terminates.\nSimilar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#read_stream_async",children:(0,o.jsx)(n.code,{children:"DBOS.read_stream_async"})}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"workflow_id"}),": The workflow instance ID that owns the stream"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"key"}),": The stream key / name within the workflow"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Yields:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Each value in the stream until the stream is closed"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example syntax:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'async for value in client.read_stream_async(workflow_id, "results"):\n    print(f"Received: {value}")\n'})}),"\n",(0,o.jsx)(n.h2,{id:"workflow-management-methods",children:"Workflow Management Methods"}),"\n",(0,o.jsx)(n.h3,{id:"list_workflows",children:"list_workflows"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.list_workflows(\n    *,\n    workflow_ids: Optional[List[str]] = None,\n    status: Optional[str | list[str]] = None,\n    start_time: Optional[str] = None,\n    end_time: Optional[str] = None,\n    name: Optional[str] = None,\n    app_version: Optional[str] = None,\n    user: Optional[str] = None,\n    limit: Optional[int] = None,\n    offset: Optional[int] = None,\n    sort_desc: bool = False,\n    workflow_id_prefix: Optional[str] = None,\n) -> List[WorkflowStatus]:\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Retrieve a list of ",(0,o.jsx)(n.a,{href:"./contexts#workflow-status",children:(0,o.jsx)(n.code,{children:"WorkflowStatus"})})," of all workflows matching specified criteria.\nSimilar to ",(0,o.jsx)(n.a,{href:"./contexts#list_workflows",children:(0,o.jsx)(n.code,{children:"DBOS.list_workflows"})}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"workflow_ids"}),": Retrieve workflows with these IDs."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"workflow_id_prefix"}),": Retrieve workflows whose IDs start with the specified string."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"status"}),": Retrieve workflows with this status (or one of these statuses) (Must be ",(0,o.jsx)(n.code,{children:"ENQUEUED"}),", ",(0,o.jsx)(n.code,{children:"PENDING"}),", ",(0,o.jsx)(n.code,{children:"SUCCESS"}),", ",(0,o.jsx)(n.code,{children:"ERROR"}),", ",(0,o.jsx)(n.code,{children:"CANCELLED"}),", or ",(0,o.jsx)(n.code,{children:"MAX_RECOVERY_ATTEMPTS_EXCEEDED"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"start_time"}),": Retrieve workflows started after this (RFC 3339-compliant) timestamp."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"end_time"}),": Retrieve workflows started before this (RFC 3339-compliant) timestamp."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"name"}),": Retrieve workflows with this fully-qualified name."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"app_version"}),": Retrieve workflows tagged with this application version."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"user"}),": Retrieve workflows run by this authenticated user."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"limit"}),": Retrieve up to this many workflows."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"offset"}),": Skip this many workflows from the results returned (for pagination)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"sort_desc"}),": Whether to sort the results in descending (",(0,o.jsx)(n.code,{children:"True"}),") or ascending (",(0,o.jsx)(n.code,{children:"False"}),") order by workflow start time."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"list_workflows_async",children:"list_workflows_async"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.list_workflows_async(\n    *,\n    workflow_ids: Optional[List[str]] = None,\n    status: Optional[str | list[str]] = None,\n    start_time: Optional[str] = None,\n    end_time: Optional[str] = None,\n    name: Optional[str] = None,\n    app_version: Optional[str] = None,\n    user: Optional[str] = None,\n    limit: Optional[int] = None,\n    offset: Optional[int] = None,\n    sort_desc: bool = False,\n    workflow_id_prefix: Optional[str] = None,\n) -> List[WorkflowStatus]:\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Asynchronous version of ",(0,o.jsx)(n.a,{href:"#list_workflows",children:(0,o.jsx)(n.code,{children:"DBOSClient.list_workflows"})}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"list_queued_workflows",children:"list_queued_workflows"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.list_queued_workflows(\n    *,\n    queue_name: Optional[str] = None,\n    status: Optional[str | list[str]] = None,\n    start_time: Optional[str] = None,\n    end_time: Optional[str] = None,\n    name: Optional[str] = None,\n    limit: Optional[int] = None,\n    offset: Optional[int] = None,\n    sort_desc: bool = False,\n) -> List[WorkflowStatus]:\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Retrieve a list of ",(0,o.jsx)(n.a,{href:"./contexts#workflow-status",children:(0,o.jsx)(n.code,{children:"WorkflowStatus"})})," of all ",(0,o.jsx)(n.strong,{children:"currently enqueued"})," workflows matching specified criteria.\nSimilar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#list_queued_workflows",children:(0,o.jsx)(n.code,{children:"DBOS.list_queued_workflows"})}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"queue_name"}),": Retrieve workflows running on this queue."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"status"}),": Retrieve workflows with this status (or one of these statuses) (Must be ",(0,o.jsx)(n.code,{children:"ENQUEUED"})," or ",(0,o.jsx)(n.code,{children:"PENDING"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"start_time"}),": Retrieve workflows enqueued after this (RFC 3339-compliant) timestamp."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"end_time"}),": Retrieve workflows enqueued before this (RFC 3339-compliant) timestamp."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"name"}),": Retrieve workflows with this fully-qualified name."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"limit"}),": Retrieve up to this many workflows."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"offset"}),": Skip this many workflows from the results returned (for pagination)."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"list_queued_workflows_async",children:"list_queued_workflows_async"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.list_queued_workflows_async(\n    *,\n    queue_name: Optional[str] = None,\n    status: Optional[str | list[str]] = None,\n    start_time: Optional[str] = None,\n    end_time: Optional[str] = None,\n    name: Optional[str] = None,\n    limit: Optional[int] = None,\n    offset: Optional[int] = None,\n    sort_desc: bool = False,\n) -> List[WorkflowStatus]:\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Asynchronous version of ",(0,o.jsx)(n.a,{href:"#list_queued_workflows",children:(0,o.jsx)(n.code,{children:"DBOSClient.list_queued_workflows"})}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"list_workflow_steps",children:"list_workflow_steps"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.list_workflow_steps(\n    workflow_id: str,\n) -> List[StepInfo]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Similar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#list_workflow_steps",children:(0,o.jsx)(n.code,{children:"DBOS.list_workflow_steps"})}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"list_workflow_steps_async",children:"list_workflow_steps_async"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.list_workflow_steps_async(\n    workflow_id: str,\n) -> List[StepInfo]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Asnychronous version of ",(0,o.jsx)(n.a,{href:"#list_workflow_steps",children:(0,o.jsx)(n.code,{children:"list_workflow_steps"})}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"cancel_workflow",children:"cancel_workflow"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.cancel_workflow(\n    workflow_id: str,\n) -> None\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Cancel a workflow.\nThis sets is status to ",(0,o.jsx)(n.code,{children:"CANCELLED"}),", removes it from its queue (if it is enqueued) and preempts its execution (interrupting it at the beginning of its next step)\nSimilar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#cancel_workflow",children:(0,o.jsx)(n.code,{children:"DBOS.cancel_workflow"})}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"cancel_workflow_async",children:"cancel_workflow_async"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.cancel_workflow_async(\n    workflow_id: str,\n) -> None\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Asynchronous version of ",(0,o.jsx)(n.a,{href:"#cancel_workflow",children:(0,o.jsx)(n.code,{children:"DBOSClient.cancel_workflow"})}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"resume_workflow",children:"resume_workflow"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.resume_workflow(\n    workflow_id: str\n) -> WorkflowHandle[R]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Resume a workflow.\nThis immediately starts it from its last completed step.\nYou can use this to resume workflows that are cancelled or have exceeded their maximum recovery attempts.\nYou can also use this to start an enqueued workflow immediately, bypassing its queue.\nSimilar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#resume_workflow",children:(0,o.jsx)(n.code,{children:"DBOS.resume_workflow"})}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"resume_workflow_async",children:"resume_workflow_async"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.resume_workflow_async(\n    workflow_id: str,\n) -> WorkflowHandle[R]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Asynchronous version of ",(0,o.jsx)(n.a,{href:"#resume_workflow",children:(0,o.jsx)(n.code,{children:"DBOSClient.resume_workflow"})}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"fork_workflow",children:"fork_workflow"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.fork_workflow(\n    workflow_id: str,\n    start_step: int,\n    *,\n    application_version: Optional[str] = None,\n) -> WorkflowHandle[R]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Similar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#fork_workflow",children:(0,o.jsx)(n.code,{children:"DBOS.fork_workflow"})}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"fork_workflow_async",children:"fork_workflow_async"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"client.fork_workflow_async(\n    workflow_id: str,\n    start_step: int,\n    *,\n    application_version: Optional[str] = None,\n) -> WorkflowHandleAsync[R]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Asynchronous version of ",(0,o.jsx)(n.a,{href:"#fork_workflow",children:(0,o.jsx)(n.code,{children:"DBOSClient.fork_workflow"})}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"debouncing",children:"Debouncing"}),"\n",(0,o.jsxs)(n.p,{children:["Workflows can be ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#debouncing",children:"debounced"})," with the DBOSClient."]}),"\n",(0,o.jsx)(n.h3,{id:"debouncerclient",children:"DebouncerClient"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"DebouncerClient(\n    client: DBOSClient,\n    workflow_options: EnqueueOptions,\n    *,\n    debounce_timeout_sec: Optional[float] = None,\n    queue: Optional[queue] = None,\n)\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Similar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#debouncercreate",children:(0,o.jsx)(n.code,{children:"Debouncer.create"})})," but takes in a DBOSClient and ",(0,o.jsx)(n.code,{children:"EnqueueOptions"})," instead of a workflow function."]}),"\n",(0,o.jsx)(n.h3,{id:"debounce",children:"debounce"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"debouncerClient.debounce(\n    debounce_key: str,\n    debounce_period_sec: float,\n    *args: Any,\n    **kwargs: Any,\n) -> WorkflowHandle[R]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Similar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#debounce",children:(0,o.jsx)(n.code,{children:"Debouncer.debounce"})}),"."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Example Syntax"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'client: DBOSClient = ...\nworkflow_options: EnqueueOptions = {\n    "workflow_name": "process_input",\n    "queue_name": "process_input_queue",\n}\ndebouncer = DebouncerClient(client, workflow_options)\n\n# Each time a user submits a new input, debounce the process_input workflow.\n# The workflow will wait until 60 seconds after the user stops submitting new inputs,\n# then process the last input submitted.\ndef on_user_input_submit(user_id, user_input):\n    debounce_key = user_id\n    debounce_period_sec = 60\n    debouncer.debounce(debounce_key, debounce_period_sec, user_input)\n'})}),"\n",(0,o.jsx)(n.h3,{id:"debounce_async",children:"debounce_async"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"debouncerClient.debounce(\n    debounce_key: str,\n    debounce_period_sec: float,\n    *args: Any,\n    **kwargs: Any,\n) -> WorkflowHandleAsync[R]:\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Similar to ",(0,o.jsx)(n.a,{href:"/python/reference/contexts#debounce_async",children:(0,o.jsx)(n.code,{children:"Debouncer.debounce_async"})}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var r=s(6540);const o={},i=r.createContext(o);function t(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);
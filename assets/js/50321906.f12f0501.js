"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[6236],{1280:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>r,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>d,toc:()=>l});var n=o(5893),s=o(1151);const i={sidebar_position:9,title:"Time Travel Debugger",description:"DBOS Time Travel Debugger VS Code extension reference"},a=void 0,d={id:"api-reference/time-travel-debugger",title:"Time Travel Debugger",description:"DBOS Time Travel Debugger VS Code extension reference",source:"@site/docs/api-reference/time-travel-debugger.md",sourceDirName:"api-reference",slug:"/api-reference/time-travel-debugger",permalink:"/api-reference/time-travel-debugger",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9,title:"Time Travel Debugger",description:"DBOS Time Travel Debugger VS Code extension reference"},sidebar:"tutorialSidebar",previous:{title:"Static Analysis",permalink:"/api-reference/static-analysis"},next:{title:"Concepts and Explanations",permalink:"/category/concepts-and-explanations"}},r={},l=[{value:"Installation",id:"installation",level:2},{value:"Commands",id:"commands",level:2},{value:"DBOS: Log into DBOS Cloud",id:"dbos-log-into-dbos-cloud",level:3},{value:"DBOS: Delete Stored Application Database Passwords",id:"dbos-delete-stored-application-database-passwords",level:3},{value:"DBOS: Shutdown Debug Proxy",id:"dbos-shutdown-debug-proxy",level:3},{value:"Configuration",id:"configuration",level:2},{value:"dbos-ttdbg.debug_proxy_port",id:"dbos-ttdbgdebug_proxy_port",level:3},{value:"DBOS Cloud Database Connection",id:"dbos-cloud-database-connection",level:3}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"The DBOS Time Travel Debugger VS Code extension enables you to debug your production application deployed on DBOS Cloud."}),"\n",(0,n.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,n.jsxs)(t.p,{children:["For VS Code setup instructions, please see Microsoft's ",(0,n.jsx)(t.a,{href:"https://code.visualstudio.com/docs/setup/setup-overview",children:"official documentation"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["The DBOS Time Travel Debugger Extension can be installed via the\n",(0,n.jsx)(t.a,{href:"https://marketplace.visualstudio.com/items?itemName=dbos-inc.dbos-ttdbg",children:"VS Code Marketplace website"}),"\nor by searching the\n",(0,n.jsx)(t.a,{href:"https://code.visualstudio.com/docs/editor/extension-marketplace",children:"VS Code Extension Marketplace"}),'\nfor "DBOS".']}),"\n",(0,n.jsx)(t.h2,{id:"commands",children:"Commands"}),"\n",(0,n.jsxs)(t.p,{children:["These commands can be invoked via the ",(0,n.jsx)(t.a,{href:"https://code.visualstudio.com/docs/getstarted/userinterface#_command-palette",children:"VS Code Command Palette"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"dbos-log-into-dbos-cloud",children:"DBOS: Log into DBOS Cloud"}),"\n",(0,n.jsxs)(t.p,{children:["The time travel debugger needs information about the application and its database from DBOS cloud.\nWhile this information can be provided via configuration settings described below, the extension can retrieve this information via the\n",(0,n.jsx)(t.a,{href:"../api-reference/cloud-cli",children:"DBOS Cloud CLI"}),". This command runs ",(0,n.jsx)(t.a,{href:"../api-reference/cloud-cli#npx-dbos-cloud-login",children:(0,n.jsx)(t.code,{children:"npx dbos-cloud login"})}),"\non your behalf from inside VS Code."]}),"\n",(0,n.jsx)(t.p,{children:"Typically, the time travel debugger will automatically prompt you to login to DBOS cloud if you're not logged in or your credentials have expired.\nHowever, this command can also be executed explicitly."}),"\n",(0,n.jsx)(t.h3,{id:"dbos-delete-stored-application-database-passwords",children:"DBOS: Delete Stored Application Database Passwords"}),"\n",(0,n.jsx)(t.p,{children:"The time travel debugger needs your DBOS database name and password in order to access your database history.\nThe first time a DBOS application is time travel debugged, the developer is asked for the database password.\nThe provided database password is saved in VS Code's secrets storage so you don't have to enter it every time you time travel debug.\nThis command deletes any stored DBOS database passwords associated with the current workspace."}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["The database password is different from the DBOS Cloud login credentials.\nPlease see ",(0,n.jsx)(t.a,{href:"../cloud-tutorials/database-management",children:"Cloud Database Management"})," for more information."]})}),"\n",(0,n.jsx)(t.h3,{id:"dbos-shutdown-debug-proxy",children:"DBOS: Shutdown Debug Proxy"}),"\n",(0,n.jsx)(t.p,{children:"The time travel debugger relies on Debug Proxy utility to project the state of the database as it existed when a selected workflow started.\nThe extension automatically launches the Debug Proxy the first time a DBOS application is time travel debugged.\nThe debug proxy process is automatically shut down when VS Code shuts down, but this command can be used to shut down the debug proxy process manually."}),"\n",(0,n.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,n.jsxs)(t.p,{children:["Some behavior of the extension can be controlled via ",(0,n.jsx)(t.a,{href:"https://code.visualstudio.com/docs/getstarted/settings",children:"VS Code Settings"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"dbos-ttdbgdebug_proxy_port",children:"dbos-ttdbg.debug_proxy_port"}),"\n",(0,n.jsxs)(t.p,{children:["The Debug Proxy listens on port 2345 by default. This port can be changed via the ",(0,n.jsx)(t.code,{children:"dbos-ttdbg.debug_proxy_port"})," configuration setting."]}),"\n",(0,n.jsx)(t.h3,{id:"dbos-cloud-database-connection",children:"DBOS Cloud Database Connection"}),"\n",(0,n.jsxs)(t.p,{children:["Typically, the time travel debugger retrieves database connection information via ",(0,n.jsx)(t.a,{href:"./cloud-cli",children:"DBOS Cloud CLI"}),".\nHowever, the developer can specify this information directly via\n",(0,n.jsx)(t.a,{href:"https://code.visualstudio.com/docs/getstarted/settings",children:"VS Code settings"}),", bypassing the need to use DBOS Cloud CLI."]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:"For security reasons, the database password cannot be specified via VS Code settings."})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://www.postgresql.org/docs/16/libpq-connect.html#LIBPQ-CONNECT-HOST",children:"dbos-ttdbg.prov_db_host"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://www.postgresql.org/docs/16/libpq-connect.html#LIBPQ-CONNECT-PORT",children:"dbos-ttdbg.prov_db_port"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://www.postgresql.org/docs/16/libpq-connect.html#LIBPQ-CONNECT-DBNAME",children:"dbos-ttdbg.prov_db_database"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://www.postgresql.org/docs/16/libpq-connect.html#LIBPQ-CONNECT-USER",children:"dbos-ttdbg.prov_db_user"})}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},1151:(e,t,o)=>{o.d(t,{Z:()=>d,a:()=>a});var n=o(7294);const s={},i=n.createContext(s);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);
"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[729],{2275:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>t});var l=n(4848),s=n(8453);const t=[];function i(e){const o={a:"a",code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components},{TabItem:n,Tabs:t}=o;return n||r("TabItem",!0),t||r("Tabs",!0),(0,l.jsxs)(t,{groupId:"operating-systems",className:"small-tabs",children:[(0,l.jsxs)(n,{value:"maclinux",label:"macOS or Linux",children:[(0,l.jsx)(o.p,{children:"Run the following commands in your terminal:"}),(0,l.jsx)(o.pre,{children:(0,l.jsx)(o.code,{className:"language-bash",children:'curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash\n\nexport NVM_DIR="$HOME/.nvm"\n[ -s "$NVM_DIR/nvm.sh" ] && \\. "$NVM_DIR/nvm.sh"  # This loads nvm\n\nnvm install 22\nnvm use 22\n'})})]}),(0,l.jsx)(n,{value:"win-ps",label:"Windows",children:(0,l.jsxs)(o.p,{children:["Download Node.js 20 or later from the ",(0,l.jsx)(o.a,{href:"https://nodejs.org/en/download",children:"official Node.js download page"})," and install it.\nAfter installing Node.js, create the following folder: ",(0,l.jsx)(o.code,{children:"C:\\Users\\%user%\\AppData\\Roaming\\npm"}),"\n(",(0,l.jsx)(o.code,{children:"%user%"})," is the Windows user on which you are logged in)."]})})]})}function a(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,l.jsx)(o,{...e,children:(0,l.jsx)(i,{...e})}):i(e)}function r(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},3805:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"production/dbos-cloud/deploying-to-cloud","title":"Deploying to DBOS Cloud","description":"Any application built with DBOS can be deployed to DBOS Cloud.","source":"@site/docs/production/dbos-cloud/deploying-to-cloud.md","sourceDirName":"production/dbos-cloud","slug":"/production/dbos-cloud/deploying-to-cloud","permalink":"/production/dbos-cloud/deploying-to-cloud","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10,"title":"Deploying to DBOS Cloud","hide_table_of_contents":true},"sidebar":"tutorialSidebar","previous":{"title":"Admin API Reference","permalink":"/production/self-hosting/admin-api"},"next":{"title":"Application Management","permalink":"/production/dbos-cloud/application-management"}}');var s=n(4848),t=n(8453),i=n(2275);const a={sidebar_position:10,title:"Deploying to DBOS Cloud",hide_table_of_contents:!0},r=void 0,c={},d=[{value:"Deploying Your App to DBOS Cloud",id:"deploying-your-app-to-dbos-cloud",level:2},{value:"1. Install the DBOS Cloud CLI",id:"1-install-the-dbos-cloud-cli",level:4},...i.RM,{value:"2. Create a requirements.txt File",id:"2-create-a-requirementstxt-file",level:4},{value:"3. Define a Start Command",id:"3-define-a-start-command",level:4},{value:"4. Deploy to DBOS Cloud",id:"4-deploy-to-dbos-cloud",level:4},{value:"1. Install the DBOS Cloud CLI",id:"1-install-the-dbos-cloud-cli-1",level:4},{value:"2. Define a Start Command",id:"2-define-a-start-command",level:4},{value:"3. Deploy to DBOS Cloud",id:"3-deploy-to-dbos-cloud",level:4},{value:"DBOS Cloud How-Tos",id:"dbos-cloud-how-tos",level:2},{value:"HTTP Serving &amp; Port Numbers",id:"http-serving--port-numbers",level:3},{value:"Environment Management",id:"environment-management",level:3},{value:"Database Setup",id:"database-setup",level:3},{value:"System Database",id:"system-database",level:4},{value:"Cloud-Provided Application Databases",id:"cloud-provided-application-databases",level:4}];function u(e){const o={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{Details:n,LargeTabItem:l,LargeTabs:a}=o;return n||h("Details",!0),l||h("LargeTabItem",!0),a||h("LargeTabs",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.p,{children:"Any application built with DBOS can be deployed to DBOS Cloud.\nDBOS Cloud is a serverless platform for durably executed applications.\nIt provides:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"/production/dbos-cloud/application-management",children:(0,s.jsx)(o.strong,{children:"Application hosting and autoscaling"})}),": Managed hosting of your application in the cloud, automatically scaling to millions of users. Applications are charged only for the CPU time they actually consume."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"/production/dbos-cloud/application-management",children:(0,s.jsx)(o.strong,{children:"Managed workflow recovery"})}),": If a cloud executor is interrupted, crashed, or restarted, each of its workflows is automatically recovered by another executor."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"/production/dbos-cloud/workflow-management",children:(0,s.jsx)(o.strong,{children:"Workflow and queue management"})}),": Dashboards of all active and past workflows and all queued tasks, including their status, inputs, outputs, and steps. Cancel, resume, or restart any workflow execution and manage the tasks in your distributed queues."]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"deploying-your-app-to-dbos-cloud",children:"Deploying Your App to DBOS Cloud"}),"\n",(0,s.jsxs)(a,{groupId:"language",queryString:"language",children:[(0,s.jsxs)(l,{value:"python",label:"Python",children:[(0,s.jsx)(o.h4,{id:"1-install-the-dbos-cloud-cli",children:"1. Install the DBOS Cloud CLI"}),(0,s.jsxs)("section",{className:"row list",children:[(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsx)(o.p,{children:"The Cloud CLI requires Node.js 20 or later."})}),(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:"Instructions to install Node.js"}),(0,s.jsx)(i.Ay,{})]})}),(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsx)(o.p,{children:"Run this command to install it."})}),(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"npm i -g @dbos-inc/dbos-cloud@latest\n"})})})]}),(0,s.jsx)(o.h4,{id:"2-create-a-requirementstxt-file",children:"2. Create a requirements.txt File"}),(0,s.jsxs)("section",{className:"row list",children:[(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsxs)(o.p,{children:["Create a ",(0,s.jsx)(o.code,{children:"requirements.txt"})," file listing your application's dependencies."]})}),(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"pip freeze > requirements.txt\n"})})})]}),(0,s.jsx)(o.h4,{id:"3-define-a-start-command",children:"3. Define a Start Command"}),(0,s.jsxs)("section",{className:"row list",children:[(0,s.jsxs)("article",{className:"col col--6",children:[(0,s.jsxs)(o.p,{children:["Set the ",(0,s.jsx)(o.code,{children:"start"})," command in the ",(0,s.jsx)(o.code,{children:"runtimeConfig"})," section of your ",(0,s.jsx)(o.a,{href:"/python/reference/configuration",children:(0,s.jsx)(o.code,{children:"dbos-config.yaml"})})," to your application's launch command."]}),(0,s.jsx)(o.p,{children:"If your application includes an HTTP server, configure it to listen on port 8000."}),(0,s.jsxs)(o.p,{children:["To test that it works, try launching your application with ",(0,s.jsx)(o.code,{children:"dbos start"}),"."]})]}),(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-yaml",children:'runtimeConfig:\n  start:\n    - "fastapi run"\n'})})})]}),(0,s.jsx)(o.h4,{id:"4-deploy-to-dbos-cloud",children:"4. Deploy to DBOS Cloud"}),(0,s.jsxs)("section",{className:"row list",children:[(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsx)(o.p,{children:"Run this single command to deploy your application to DBOS Cloud!"})}),(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"dbos-cloud app deploy\n"})})})]})]}),(0,s.jsxs)(l,{value:"typescript",label:"TypeScript",children:[(0,s.jsx)(o.h4,{id:"1-install-the-dbos-cloud-cli-1",children:"1. Install the DBOS Cloud CLI"}),(0,s.jsxs)("section",{className:"row list",children:[(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsx)(o.p,{children:"Run this command to install the Cloud CLI globally."})}),(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"npm i -g @dbos-inc/dbos-cloud@latest\n"})})})]}),(0,s.jsx)(o.h4,{id:"2-define-a-start-command",children:"2. Define a Start Command"}),(0,s.jsxs)("section",{className:"row list",children:[(0,s.jsxs)("article",{className:"col col--6",children:[(0,s.jsxs)(o.p,{children:["Set the ",(0,s.jsx)(o.code,{children:"start"})," command in the ",(0,s.jsx)(o.code,{children:"runtimeConfig"})," section of your ",(0,s.jsx)(o.a,{href:"/typescript/reference/configuration",children:(0,s.jsx)(o.code,{children:"dbos-config.yaml"})})," to your application's launch command."]}),(0,s.jsx)(o.p,{children:"If your application includes an HTTP server, configure it to listen on port 3000."}),(0,s.jsxs)(o.p,{children:["To test that it works, try launching your application with ",(0,s.jsx)(o.code,{children:"npxdbos start"}),"."]})]}),(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-yaml",children:'runtimeConfig:\n  start:\n    - "npm start"\n'})})})]}),(0,s.jsx)(o.h4,{id:"3-deploy-to-dbos-cloud",children:"3. Deploy to DBOS Cloud"}),(0,s.jsxs)("section",{className:"row list",children:[(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsx)(o.p,{children:"Run this single command to deploy your application to DBOS Cloud!"})}),(0,s.jsx)("article",{className:"col col--6",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"dbos-cloud app deploy\n"})})})]})]})]}),"\n",(0,s.jsx)(o.h2,{id:"dbos-cloud-how-tos",children:"DBOS Cloud How-Tos"}),"\n",(0,s.jsx)(o.h3,{id:"http-serving--port-numbers",children:"HTTP Serving & Port Numbers"}),"\n",(0,s.jsx)(o.p,{children:"DBOS Cloud provides your application with an HTTPS URL and routes traffic to it.\nIt expects applications to listen for HTTP requests on port 3000 (TypeScript) or port 8000 (Python)."}),"\n",(0,s.jsx)(o.h3,{id:"environment-management",children:"Environment Management"}),"\n",(0,s.jsxs)(o.p,{children:["We recommend you configure your application with environment variables.\nYou can use ",(0,s.jsx)(o.a,{href:"/production/dbos-cloud/secrets",children:"DBOS Cloud secrets"})," to pass environment variables to your cloud application.\nYou can even ",(0,s.jsx)(o.a,{href:"/production/dbos-cloud/secrets#importing-secrets",children:"import secrets"})," into DBOS Cloud from a ",(0,s.jsx)(o.code,{children:".env"})," file."]}),"\n",(0,s.jsx)(o.h3,{id:"database-setup",children:"Database Setup"}),"\n",(0,s.jsx)(o.h4,{id:"system-database",children:"System Database"}),"\n",(0,s.jsxs)(o.p,{children:["DBOS Cloud automatically constructs a system database for your application.\nYou can access it at ",(0,s.jsx)(o.code,{children:"DBOS_SYSTEM_DATABASE_URL"}),".\nYou should not attempt to override or modify this URL."]}),"\n",(0,s.jsx)(o.h4,{id:"cloud-provided-application-databases",children:"Cloud-Provided Application Databases"}),"\n",(0,s.jsxs)(o.p,{children:["You may connect an application database to your application through DBOS Cloud.\nIf you do, connection information is provided via the ",(0,s.jsx)(o.code,{children:"DBOS_DATABASE_URL"})," environment variable."]}),"\n",(0,s.jsxs)(o.p,{children:["You may optionally direct DBOS Cloud to run migrations to set up your application's database schema by specifying migration commands in your ",(0,s.jsx)(o.code,{children:"dbos-config.yaml"})," file:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-yaml",children:"migrate:\n  - npx knex migrate:latest\n"})}),"\n",(0,s.jsxs)(o.p,{children:["DBOS Cloud will provide a database URL to your migrations through the ",(0,s.jsx)(o.code,{children:"DBOS_DATABASE_URL"})," environment variable."]})]})}function p(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}function h(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453:(e,o,n)=>{n.d(o,{R:()=>i,x:()=>a});var l=n(6540);const s={},t=l.createContext(s);function i(e){const o=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),l.createElement(t.Provider,{value:o},e.children)}}}]);
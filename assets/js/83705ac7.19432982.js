"use strict";(self.webpackChunkdbos_docs=self.webpackChunkdbos_docs||[]).push([[3473],{888:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"why-dbos","title":"Why DBOS?","description":"DBOS is an open-source library for building reliable and fault-tolerant applications.","source":"@site/docs/why-dbos.md","sourceDirName":".","slug":"/why-dbos","permalink":"/why-dbos","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"hide_table_of_contents":false,"hide_title":false,"title":"Why DBOS?"},"sidebar":"tutorialSidebar","previous":{"title":"Get Started","permalink":"/quickstart"},"next":{"title":"Learn DBOS Python","permalink":"/python/programming-guide"}}');var a=n(4848),o=n(8453);const l={hide_table_of_contents:!1,hide_title:!1,title:"Why DBOS?"},t=void 0,i={},c=[{value:"DBOS Is Lightweight",id:"dbos-is-lightweight",level:3},{value:"Use Cases",id:"use-cases",level:3},{value:"DBOS Cloud",id:"dbos-cloud",level:3}];function d(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{TabItem:r,Tabs:l}=s;return r||p("TabItem",!0),l||p("Tabs",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{style:{fontSize:"20px",color:"var(--ifm-color-primary-darkest)"},children:["DBOS is an open-source library for building ",(0,a.jsx)(s.strong,{children:"reliable"})," and ",(0,a.jsx)(s.strong,{children:"fault-tolerant"})," applications."]}),"\n",(0,a.jsx)(s.p,{children:"Let's look at a common situation where reliability is critical.\nImagine you're running an e-commerce platform where an order goes through multiple steps:"}),"\n",(0,a.jsx)("img",{src:n(5374).A,alt:"Durable Workflow",width:"750",className:"custom-img"}),"\n",(0,a.jsxs)(s.p,{children:["This program looks simple, but making it ",(0,a.jsx)(s.em,{children:"reliable"})," is deceptively difficult.\nHere are two out of many potential problems:"]}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:'Your program crashes after step 1, "Validate Payment". The customer has been charged, but their order is never shipped.'}),"\n",(0,a.jsx)(s.li,{children:'You get to step 2, "Check Inventory", and you\'re out of stock. You need to wait 24 hours for the new inventory before you can ship your order. You need that step to sleep for a day.'}),"\n"]}),"\n",(0,a.jsxs)(s.p,{children:["These situations can cause hours (or even days!) of debugging and may require deep distributed systems expertise to solve.\nDBOS makes them easier to solve because you can add decorators like ",(0,a.jsx)(s.code,{children:"DBOS.workflow()"})," and ",(0,a.jsx)(s.code,{children:"DBOS.step()"})," to your program:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"@DBOS.step()\ndef validate_payment():\n    ...\n\n@DBOS.workflow()\ndef checkout_workflow()\n    validate_payment()\n    check_inventory()\n    ship_order()\n    notify_customer()\n"})}),"\n",(0,a.jsxs)(s.p,{children:["These decorators ",(0,a.jsx)(s.strong,{children:"durably execute"})," your program, persisting its state to a Postgres database:"]}),"\n",(0,a.jsx)("img",{src:n(764).A,alt:"Durable Workflow",width:"750",className:"custom-img"}),"\n",(0,a.jsxs)(s.p,{children:["You can think of this stored state as a checkpoint for your program.\nIf your program is ever interrupted or crashes, DBOS uses this saved state to recover it from the last completed step.\nFor example, if your checkout workflow crashes right after validating payment, instead of the order being lost forever, DBOS recovers from a checkpoint and goes on to ship the order.\nThus, DBOS makes your application ",(0,a.jsx)(s.strong,{children:"resilient to any failure"}),"."]}),"\n",(0,a.jsx)(s.h3,{id:"dbos-is-lightweight",children:"DBOS Is Lightweight"}),"\n",(0,a.jsxs)(s.p,{children:["All you need to use DBOS is install the open-source DBOS Transact library (",(0,a.jsx)(s.a,{href:"https://github.com/dbos-inc/dbos-transact-py",children:"Python"}),", ",(0,a.jsx)(s.a,{href:"https://github.com/dbos-inc/dbos-transact-ts",children:"TypeScript"}),")."]}),"\n",(0,a.jsx)(s.p,{children:"You can run these commands to quickly try out a DBOS demo yourself:"}),"\n",(0,a.jsxs)(l,{groupId:"language",children:[(0,a.jsx)(r,{value:"python",label:"Python",children:(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-shell",children:"pip install dbos\ndbos init\ndbos start\n"})})}),(0,a.jsx)(r,{value:"typescript",label:"TypeScript",children:(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-shell",children:"npx @dbos-inc/create -t dbos-node-starter\ncd dbos-node-starter\nnpm run build\nnpm run start\n"})})})]}),"\n",(0,a.jsxs)(s.p,{children:["To add DBOS to your application, simply annotate ",(0,a.jsx)(s.em,{children:"workflows"})," and ",(0,a.jsx)(s.em,{children:"steps"})," in your program like this:"]}),"\n",(0,a.jsxs)(l,{groupId:"language",children:[(0,a.jsx)(r,{value:"python",label:"Python",children:(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"@DBOS.step()\ndef step_one():\n    ...\n\n@DBOS.step()\ndef step_two():\n    ...\n\n@DBOS.workflow()\ndef workflow()\n    step_one()\n    step_two()\n"})})}),(0,a.jsx)(r,{value:"typescript",label:"TypeScript",children:(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"class Example {\n  @DBOS.step()\n  static async step_one() {\n    ...\n  }\n\n  @DBOS.step()\n  static async step_two() {\n    ...\n  }\n\n  @DBOS.workflow()\n  static async workflow() {\n    await Example.step_one()\n    await Example.step_two()\n  }\n}\n"})})})]}),"\n",(0,a.jsx)(s.p,{children:"If your program is ever interrupted or crashed, all your workflows automatically resume from the last completed step."}),"\n",(0,a.jsx)(s.h3,{id:"use-cases",children:"Use Cases"}),"\n",(0,a.jsx)(s.p,{children:"DBOS helps you write complex programs in remarkably few lines of code. For example:"}),"\n",(0,a.jsxs)(l,{groupId:"examples",className:"medium-tabs",children:[(0,a.jsx)(r,{value:"workflow",label:"Reliable Workflows",children:(0,a.jsxs)("section",{className:"row list",children:[(0,a.jsxs)("article",{className:"col col--4",children:[(0,a.jsx)(s.p,{children:"Write business logic in normal code, with branches, loops, subtasks, and retries. DBOS makes it resilient to any failure."}),(0,a.jsx)(s.p,{children:(0,a.jsx)(s.a,{href:"/python/examples/widget-store",children:"See an example \u2197\ufe0f"})})]}),(0,a.jsx)("article",{className:"col col--8",children:(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"@DBOS.step()\ndef validate_payment():\n    ...\n\n@DBOS.workflow()\ndef checkout_workflow()\n    validate_payment()\n    check_inventory()\n    ship_order()\n    notify_customer()\n"})})})]})}),(0,a.jsx)(r,{value:"background",label:"Background Tasks",children:(0,a.jsxs)("section",{className:"row list",children:[(0,a.jsxs)("article",{className:"col col--4",children:[(0,a.jsx)(s.p,{children:"Launch any task to run in the background and guarantee it eventually completes.\nWait for days or weeks, or for a notification, before continuing."}),(0,a.jsx)(s.p,{children:(0,a.jsx)(s.a,{href:"/python/examples/scheduled-reminders",children:"See an example \u2197\ufe0f"})})]}),(0,a.jsx)("article",{className:"col col--8",children:(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'@DBOS.workflow()\ndef schedule_reminder(to_email, days_to_wait):\n    DBOS.recv(days_to_seconds(days_to_wait))\n    send_reminder_email(to_email, days_to_wait)\n\n@app.post("/email")\ndef email_endpoint(request):\n    DBOS.start_workflow(schedule_reminder, request.email, request.days)\n'})})})]})}),(0,a.jsx)(r,{value:"cron",label:"Cron Jobs",children:(0,a.jsxs)("section",{className:"row list",children:[(0,a.jsxs)("article",{className:"col col--4",children:[(0,a.jsx)(s.p,{children:"Schedule functions to run at specific times.\nHost them serverlessly on DBOS Cloud."}),(0,a.jsx)(s.p,{children:(0,a.jsx)(s.a,{href:"/python/examples/cron-starter",children:"Get started \u2197\ufe0f"})})]}),(0,a.jsx)("article",{className:"col col--8",children:(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'@DBOS.scheduled("0 * * * *") # Run once an hour\n@DBOS.workflow()\ndef run_hourly(scheduled_time, actual_time):\n    results = search_hackernews("serverless")\n    for comment, url in results:\n        post_to_slack(comment, url)\n'})})})]})}),(0,a.jsx)(r,{value:"pipelines",label:"Data Pipelines",children:(0,a.jsxs)("section",{className:"row list",children:[(0,a.jsxs)("article",{className:"col col--4",children:[(0,a.jsx)(s.p,{children:"Build data pipelines that are reliable and observable by default.\nDBOS durable queues guarantee all your tasks complete."}),(0,a.jsx)(s.p,{children:(0,a.jsx)(s.a,{href:"/python/examples/document-detective",children:"See an example \u2197\ufe0f"})})]}),(0,a.jsx)("article",{className:"col col--8",children:(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'queue = Queue("indexing_queue")\n\n@DBOS.workflow()\ndef indexing_workflow(urls):\n    handles = []\n    for url in urls:\n        handles.append(queue.enqueue(index_step, url))\n    return [h.get_result() for h in handles]\n'})})})]})}),(0,a.jsx)(r,{value:"kafka",label:"Kafka",children:(0,a.jsxs)("section",{className:"row list",children:[(0,a.jsxs)("article",{className:"col col--4",children:[(0,a.jsx)(s.p,{children:"Consume Kafka messages exactly-once, no need to worry about timeouts or offsets."}),(0,a.jsx)(s.p,{children:(0,a.jsx)(s.a,{href:"/python/tutorials/kafka-integration",children:"Learn more \u2197\ufe0f"})})]}),(0,a.jsx)("article",{className:"col col--8",children:(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'@DBOS.kafka_consumer(config,["alerts-topic"])\n@DBOS.workflow()\ndef process_kafka_alerts(msg):\n    alerts = msg.value.decode()\n    for alert in alerts:\n        respond_to_alert(alert)\n'})})})]})}),(0,a.jsx)(r,{value:"agents",label:"AI Agents",children:(0,a.jsxs)("section",{className:"row list",children:[(0,a.jsxs)("article",{className:"col col--4",children:[(0,a.jsx)(s.p,{children:"Enhance your AI agents with reliable asynchronous tasks and human in the loop.\nIntegrate with popular frameworks like LangChain and LlamaIndex."}),(0,a.jsx)(s.p,{children:(0,a.jsx)(s.a,{href:"/python/examples/reliable-ai-agent",children:"See an example \u2197\ufe0f"})})]}),(0,a.jsx)("article",{className:"col col--8",children:(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'@DBOS.workflow()\ndef agentic_refund(purchase):\n    email_human_for_approval(purchase)\n    status = DBOS.recv(timeout_seconds=APPROVAL_TIMEOUT)\n    if status == "approve":\n        approve_refund(purchase)\n    else:\n        reject_refund(purchase)\n'})})})]})})]}),"\n",(0,a.jsx)(s.h3,{id:"dbos-cloud",children:"DBOS Cloud"}),"\n",(0,a.jsx)(s.p,{children:"Any program you build with DBOS you can deploy for free to DBOS Cloud.\nYou can deploy any program with a single command\u2014no configuration required.\nYour program runs the same in the cloud as it does locally, but operating it is much simpler thanks to:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"No servers to manage"}),": We serverlessly deploy your applications for you."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Autoscaling"}),": Your application automatically scales with load, potentially to millions of users."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Pay only for the CPU time you actually use"}),": Pay only when you're using your app, and nothing at all for idle time."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Built-in observability"}),": View your logs and traces and manage your application from the ",(0,a.jsx)(s.a,{href:"https://console.dbos.dev",children:"cloud console"}),"."]}),"\n"]}),"\n",(0,a.jsx)(s.admonition,{type:"note",children:(0,a.jsxs)(s.p,{children:["Thanks to Paul Copplestone from Supabase, whose ",(0,a.jsx)(s.a,{href:"https://supabase.com/blog/durable-workflows-in-postgres-dbos",children:"blog post on DBOS"})," inspired this page."]})})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}function p(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},764:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/dbos-pg-e7fab60a07a86ab936384738e03ed135.png"},5374:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/workflow-example-a1ac61ccbf88bf93d65a79722385a0cc.png"},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>t});var r=n(6540);const a={},o=r.createContext(a);function l(e){const s=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),r.createElement(o.Provider,{value:s},e.children)}}}]);